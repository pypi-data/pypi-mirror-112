!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("react"),require("react-dom")):"function"==typeof define&&define.amd?define(["react","react-dom"],e):"object"==typeof exports?exports.dazzler_renderer=e(require("react"),require("react-dom")):t.dazzler_renderer=e(t.React,t.ReactDOM)}(self,(function(t,e){return(()=>{var n={96734:(t,e,n)=>{"use strict";function r(t){return t.split("").map((function(t,e){return t.charCodeAt(0)>96?t:e>0?"-".concat(t.toLowerCase()):t.toLowerCase()})).reduce((function(t,e){return t+e}))}n.d(e,{vF:()=>r})},7459:(t,e,n)=>{"use strict";n.d(e,{loadCss:()=>r.Yc,loadScript:()=>r.ve,camelToSpinal:()=>o.vF,disableCss:()=>r.Ex}),n(62666);var r=n(18510),o=n(96734)},18510:(t,e,n)=>{"use strict";function r(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e3;return new Promise((function(n,r){var o,i={src:t,async:!0},u=document.createElement("script");Object.keys(i).forEach((function(t){return u.setAttribute(t,i[t])})),u.onload=function(){clearTimeout(o),n(t)},o=setTimeout((function(){u.src="",r({error:"".concat(t," did not load after ").concat(e,"ms")})}),e),document.querySelector("body").appendChild(u)}))}function o(t){var e=document.getElementById("css-".concat(t));e&&(e.setAttribute("disabled","disabled"),e.id=null)}function i(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e3;return new Promise((function(n,r){var i;o(t);var u={rel:"stylesheet",type:"text/css",href:t,media:"all",id:"css-".concat(t)},a=document.createElement("link");Object.keys(u).forEach((function(t){return a.setAttribute(t,u[t])})),a.onload=function(){clearTimeout(i),n(t)},i=setTimeout((function(){a.href="",r({error:"".concat(t," did not load after ").concat(e,"ms")})}),e),document.querySelector("head").appendChild(a)}))}n.d(e,{ve:()=>r,Ex:()=>o,Yc:()=>i})},64834:(t,e,n)=>{"use strict";n.r(e)},92703:(t,e,n)=>{"use strict";var r=n(50414);function o(){}function i(){}i.resetWarningCache=o,t.exports=function(){function t(t,e,n,o,i,u){if(u!==r){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function e(){return t}t.isRequired=t;var n={array:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:i,resetWarningCache:o};return n.PropTypes=n,n}},45697:(t,e,n)=>{t.exports=n(92703)()},50414:t=>{"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},62666:(t,e,n)=>{var r=n(64834);"string"==typeof r&&(r=[[t.id,r,""]]);n(76723)(r,{hmr:!0,transform:void 0,insertInto:void 0}),r.locals&&(t.exports=r.locals)},76723:(t,e,n)=>{var r,o,i={},u=(r=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===o&&(o=r.apply(this,arguments)),o}),a=function(t,e){return e?e.querySelector(t):document.querySelector(t)},c=function(t){var e={};return function(t,n){if("function"==typeof t)return t();if(void 0===e[t]){var r=a.call(this,t,n);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(t){r=null}e[t]=r}return e[t]}}(),s=null,f=0,l=[],p=n(51947);function d(t,e){for(var n=0;n<t.length;n++){var r=t[n],o=i[r.id];if(o){o.refs++;for(var u=0;u<o.parts.length;u++)o.parts[u](r.parts[u]);for(;u<r.parts.length;u++)o.parts.push(m(r.parts[u],e))}else{var a=[];for(u=0;u<r.parts.length;u++)a.push(m(r.parts[u],e));i[r.id]={id:r.id,refs:1,parts:a}}}}function y(t,e){for(var n=[],r={},o=0;o<t.length;o++){var i=t[o],u=e.base?i[0]+e.base:i[0],a={css:i[1],media:i[2],sourceMap:i[3]};r[u]?r[u].parts.push(a):n.push(r[u]={id:u,parts:[a]})}return n}function h(t,e){var n=c(t.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=l[l.length-1];if("top"===t.insertAt)r?r.nextSibling?n.insertBefore(e,r.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),l.push(e);else if("bottom"===t.insertAt)n.appendChild(e);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var o=c(t.insertAt.before,n);n.insertBefore(e,o)}}function v(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=l.indexOf(t);e>=0&&l.splice(e,1)}function g(t){var e=document.createElement("style");if(void 0===t.attrs.type&&(t.attrs.type="text/css"),void 0===t.attrs.nonce){var r=n.nc;r&&(t.attrs.nonce=r)}return b(e,t.attrs),h(t,e),e}function b(t,e){Object.keys(e).forEach((function(n){t.setAttribute(n,e[n])}))}function m(t,e){var n,r,o,i;if(e.transform&&t.css){if(!(i="function"==typeof e.transform?e.transform(t.css):e.transform.default(t.css)))return function(){};t.css=i}if(e.singleton){var u=f++;n=s||(s=g(e)),r=j.bind(null,n,u,!1),o=j.bind(null,n,u,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(t){var e=document.createElement("link");return void 0===t.attrs.type&&(t.attrs.type="text/css"),t.attrs.rel="stylesheet",b(e,t.attrs),h(t,e),e}(e),r=A.bind(null,n,e),o=function(){v(n),n.href&&URL.revokeObjectURL(n.href)}):(n=g(e),r=S.bind(null,n),o=function(){v(n)});return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else o()}}t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(e=e||{}).attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=u()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var n=y(t,e);return d(n,e),function(t){for(var r=[],o=0;o<n.length;o++){var u=n[o];(a=i[u.id]).refs--,r.push(a)}for(t&&d(y(t,e),e),o=0;o<r.length;o++){var a;if(0===(a=r[o]).refs){for(var c=0;c<a.parts.length;c++)a.parts[c]();delete i[a.id]}}}};var O,w=(O=[],function(t,e){return O[t]=e,O.filter(Boolean).join("\n")});function j(t,e,n,r){var o=n?"":r.css;if(t.styleSheet)t.styleSheet.cssText=w(e,o);else{var i=document.createTextNode(o),u=t.childNodes;u[e]&&t.removeChild(u[e]),u.length?t.insertBefore(i,u[e]):t.appendChild(i)}}function S(t,e){var n=e.css,r=e.media;if(r&&t.setAttribute("media",r),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}function A(t,e,n){var r=n.css,o=n.sourceMap,i=void 0===e.convertToAbsoluteUrls&&o;(e.convertToAbsoluteUrls||i)&&(r=p(r)),o&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var u=new Blob([r],{type:"text/css"}),a=t.href;t.href=URL.createObjectURL(u),a&&URL.revokeObjectURL(a)}},51947:t=>{t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var n=e.protocol+"//"+e.host,r=n+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(t,e){var o,i=e.trim().replace(/^"(.*)"$/,(function(t,e){return e})).replace(/^'(.*)'$/,(function(t,e){return e}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(i)?t:(o=0===i.indexOf("//")?i:0===i.indexOf("/")?n+i:r+i.replace(/^\.\//,""),"url("+JSON.stringify(o)+")")}))}},63240:e=>{"use strict";e.exports=t},21569:t=>{"use strict";t.exports=e}},r={};function o(t){var e=r[t];if(void 0!==e)return e.exports;var i=r[t]={id:t,exports:{}};return n[t](i,i.exports,o),i.exports}o.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return o.d(e,{a:e}),e},o.d=(t,e)=>{for(var n in e)o.o(e,n)&&!o.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},o.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),o.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var i={};return(()=>{"use strict";o.r(i),o.d(i,{Renderer:()=>Je,render:()=>$e});var t=o(63240),e=o.n(t),n=o(21569),r=o.n(n),u=o(45697),a=o.n(u);function c(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(Object(n),!0).forEach((function(e){f(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function f(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var l=/json/i,p={method:"GET",headers:{},payload:"",json:!0},d={"Content-Type":"application/json"};function y(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p;return new Promise((function(n,r){var o=s(s({},p),e),i=o.method,u=o.headers,a=o.payload,c=o.json,f=new XMLHttpRequest;f.open(i,t);var y=c?s(s({},d),u):u;Object.keys(y).forEach((function(t){return f.setRequestHeader(t,y[t])})),f.onreadystatechange=function(){if(f.readyState===XMLHttpRequest.DONE)if(200===f.status){var e=f.response;l.test(f.getResponseHeader("Content-Type"))&&(e=JSON.parse(f.responseText)),n(e)}else r({error:"RequestError",message:"XHR ".concat(t," FAILED - STATUS: ").concat(f.status," MESSAGE: ").concat(f.statusText),status:f.status,xhr:f})},f.onerror=function(t){return r(t)},f.send(c?JSON.stringify(a):a)}))}function h(t){return null!=t&&"object"==typeof t&&!0===t["@@functional/placeholder"]}function v(t){return function e(n){return 0===arguments.length||h(n)?e:t.apply(this,arguments)}}const g=v((function(t){return null===t?"Null":void 0===t?"Undefined":Object.prototype.toString.call(t).slice(8,-1)}));function b(t){return function e(n,r){switch(arguments.length){case 0:return e;case 1:return h(n)?e:v((function(e){return t(n,e)}));default:return h(n)&&h(r)?e:h(n)?v((function(e){return t(e,r)})):h(r)?v((function(e){return t(n,e)})):t(n,r)}}}const m=Array.isArray||function(t){return null!=t&&t.length>=0&&"[object Array]"===Object.prototype.toString.call(t)};function O(t){return null!=t&&"function"==typeof t["@@transducer/step"]}function w(t,e,n){return function(){if(0===arguments.length)return n();var r=Array.prototype.slice.call(arguments,0),o=r.pop();if(!m(o)){for(var i=0;i<t.length;){if("function"==typeof o[t[i]])return o[t[i]].apply(o,r);i+=1}if(O(o)){var u=e.apply(null,r);return u(o)}}return n.apply(this,arguments)}}function j(t,e){for(var n=0,r=e.length,o=Array(r);n<r;)o[n]=t(e[n]),n+=1;return o}function S(t){return"[object String]"===Object.prototype.toString.call(t)}const A=v((function(t){return!!m(t)||!!t&&"object"==typeof t&&!S(t)&&(1===t.nodeType?!!t.length:0===t.length||t.length>0&&t.hasOwnProperty(0)&&t.hasOwnProperty(t.length-1))}));var E=function(){function t(t){this.f=t}return t.prototype["@@transducer/init"]=function(){throw new Error("init not implemented on XWrap")},t.prototype["@@transducer/result"]=function(t){return t},t.prototype["@@transducer/step"]=function(t,e){return this.f(t,e)},t}();function x(t,e){switch(t){case 0:return function(){return e.apply(this,arguments)};case 1:return function(t){return e.apply(this,arguments)};case 2:return function(t,n){return e.apply(this,arguments)};case 3:return function(t,n,r){return e.apply(this,arguments)};case 4:return function(t,n,r,o){return e.apply(this,arguments)};case 5:return function(t,n,r,o,i){return e.apply(this,arguments)};case 6:return function(t,n,r,o,i,u){return e.apply(this,arguments)};case 7:return function(t,n,r,o,i,u,a){return e.apply(this,arguments)};case 8:return function(t,n,r,o,i,u,a,c){return e.apply(this,arguments)};case 9:return function(t,n,r,o,i,u,a,c,s){return e.apply(this,arguments)};case 10:return function(t,n,r,o,i,u,a,c,s,f){return e.apply(this,arguments)};default:throw new Error("First argument to _arity must be a non-negative integer no greater than ten")}}const _=b((function(t,e){return x(t.length,(function(){return t.apply(e,arguments)}))}));function P(t,e,n){for(var r=n.next();!r.done;){if((e=t["@@transducer/step"](e,r.value))&&e["@@transducer/reduced"]){e=e["@@transducer/value"];break}r=n.next()}return t["@@transducer/result"](e)}function k(t,e,n,r){return t["@@transducer/result"](n[r](_(t["@@transducer/step"],t),e))}var T="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator";function R(t,e,n){if("function"==typeof t&&(t=function(t){return new E(t)}(t)),A(n))return function(t,e,n){for(var r=0,o=n.length;r<o;){if((e=t["@@transducer/step"](e,n[r]))&&e["@@transducer/reduced"]){e=e["@@transducer/value"];break}r+=1}return t["@@transducer/result"](e)}(t,e,n);if("function"==typeof n["fantasy-land/reduce"])return k(t,e,n,"fantasy-land/reduce");if(null!=n[T])return P(t,e,n[T]());if("function"==typeof n.next)return P(t,e,n);if("function"==typeof n.reduce)return k(t,e,n,"reduce");throw new TypeError("reduce: list must be array or iterable")}const C=function(){return this.xf["@@transducer/init"]()},q=function(t){return this.xf["@@transducer/result"](t)};var U=function(){function t(t,e){this.xf=e,this.f=t}return t.prototype["@@transducer/init"]=C,t.prototype["@@transducer/result"]=q,t.prototype["@@transducer/step"]=function(t,e){return this.xf["@@transducer/step"](t,this.f(e))},t}();const N=b((function(t,e){return new U(t,e)}));function I(t,e,n){return function(){for(var r=[],o=0,i=t,u=0;u<e.length||o<arguments.length;){var a;u<e.length&&(!h(e[u])||o>=arguments.length)?a=e[u]:(a=arguments[o],o+=1),r[u]=a,h(a)||(i-=1),u+=1}return i<=0?n.apply(this,r):x(i,I(t,r,n))}}const M=b((function(t,e){return 1===t?v(e):x(t,I(t,[],e))}));function D(t,e){return Object.prototype.hasOwnProperty.call(e,t)}var L=Object.prototype.toString;const z=function(){return"[object Arguments]"===L.call(arguments)?function(t){return"[object Arguments]"===L.call(t)}:function(t){return D("callee",t)}}();var B=!{toString:null}.propertyIsEnumerable("toString"),F=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],J=function(){return arguments.propertyIsEnumerable("length")}(),$=function(t,e){for(var n=0;n<t.length;){if(t[n]===e)return!0;n+=1}return!1};const H="function"!=typeof Object.keys||J?v((function(t){if(Object(t)!==t)return[];var e,n,r=[],o=J&&z(t);for(e in t)!D(e,t)||o&&"length"===e||(r[r.length]=e);if(B)for(n=F.length-1;n>=0;)D(e=F[n],t)&&!$(r,e)&&(r[r.length]=e),n-=1;return r})):v((function(t){return Object(t)!==t?[]:Object.keys(t)})),W=b(w(["fantasy-land/map","map"],N,(function(t,e){switch(Object.prototype.toString.call(e)){case"[object Function]":return M(e.length,(function(){return t.call(this,e.apply(this,arguments))}));case"[object Object]":return R((function(n,r){return n[r]=t(e[r]),n}),{},H(e));default:return j(t,e)}}))),G=b((function(t,e){for(var n={},r={},o=0,i=t.length;o<i;)r[t[o]]=1,o+=1;for(var u in e)r.hasOwnProperty(u)||(n[u]=e[u]);return n}));function V(t){return"[object Function]"===Object.prototype.toString.call(t)}function X(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}function Y(t,e,n){for(var r=0,o=n.length;r<o;){if(t(e,n[r]))return!0;r+=1}return!1}const Z="function"==typeof Object.is?Object.is:function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e};function K(t,e,n,r){var o=X(t);function i(t,e){return Q(t,e,n.slice(),r.slice())}return!Y((function(t,e){return!Y(i,e,t)}),X(e),o)}function Q(t,e,n,r){if(Z(t,e))return!0;var o,i,u=g(t);if(u!==g(e))return!1;if(null==t||null==e)return!1;if("function"==typeof t["fantasy-land/equals"]||"function"==typeof e["fantasy-land/equals"])return"function"==typeof t["fantasy-land/equals"]&&t["fantasy-land/equals"](e)&&"function"==typeof e["fantasy-land/equals"]&&e["fantasy-land/equals"](t);if("function"==typeof t.equals||"function"==typeof e.equals)return"function"==typeof t.equals&&t.equals(e)&&"function"==typeof e.equals&&e.equals(t);switch(u){case"Arguments":case"Array":case"Object":if("function"==typeof t.constructor&&"Promise"===(o=t.constructor,null==(i=String(o).match(/^function (\w*)/))?"":i[1]))return t===e;break;case"Boolean":case"Number":case"String":if(typeof t!=typeof e||!Z(t.valueOf(),e.valueOf()))return!1;break;case"Date":if(!Z(t.valueOf(),e.valueOf()))return!1;break;case"Error":return t.name===e.name&&t.message===e.message;case"RegExp":if(t.source!==e.source||t.global!==e.global||t.ignoreCase!==e.ignoreCase||t.multiline!==e.multiline||t.sticky!==e.sticky||t.unicode!==e.unicode)return!1}for(var a=n.length-1;a>=0;){if(n[a]===t)return r[a]===e;a-=1}switch(u){case"Map":return t.size===e.size&&K(t.entries(),e.entries(),n.concat([t]),r.concat([e]));case"Set":return t.size===e.size&&K(t.values(),e.values(),n.concat([t]),r.concat([e]));case"Arguments":case"Array":case"Object":case"Boolean":case"Number":case"String":case"Date":case"Error":case"RegExp":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var c=H(t);if(c.length!==H(e).length)return!1;var s=n.concat([t]),f=r.concat([e]);for(a=c.length-1;a>=0;){var l=c[a];if(!D(l,e)||!Q(e[l],t[l],s,f))return!1;a-=1}return!0}const tt=b((function(t,e){return Q(t,e,[],[])}));function et(t,e){return function(t,e,n){var r,o;if("function"==typeof t.indexOf)switch(typeof e){case"number":if(0===e){for(r=1/e;n<t.length;){if(0===(o=t[n])&&1/o===r)return n;n+=1}return-1}if(e!=e){for(;n<t.length;){if("number"==typeof(o=t[n])&&o!=o)return n;n+=1}return-1}return t.indexOf(e,n);case"string":case"boolean":case"function":case"undefined":return t.indexOf(e,n);case"object":if(null===e)return t.indexOf(e,n)}for(;n<t.length;){if(tt(t[n],e))return n;n+=1}return-1}(e,t,0)>=0}function nt(t){return'"'+t.replace(/\\/g,"\\\\").replace(/[\b]/g,"\\b").replace(/\f/g,"\\f").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t").replace(/\v/g,"\\v").replace(/\0/g,"\\0").replace(/"/g,'\\"')+'"'}var rt=function(t){return(t<10?"0":"")+t};const ot="function"==typeof Date.prototype.toISOString?function(t){return t.toISOString()}:function(t){return t.getUTCFullYear()+"-"+rt(t.getUTCMonth()+1)+"-"+rt(t.getUTCDate())+"T"+rt(t.getUTCHours())+":"+rt(t.getUTCMinutes())+":"+rt(t.getUTCSeconds())+"."+(t.getUTCMilliseconds()/1e3).toFixed(3).slice(2,5)+"Z"};function it(t){return"[object Object]"===Object.prototype.toString.call(t)}var ut=function(){function t(t,e){this.xf=e,this.f=t}return t.prototype["@@transducer/init"]=C,t.prototype["@@transducer/result"]=q,t.prototype["@@transducer/step"]=function(t,e){return this.f(e)?this.xf["@@transducer/step"](t,e):t},t}();const at=b(w(["filter"],b((function(t,e){return new ut(t,e)})),(function(t,e){return it(e)?R((function(n,r){return t(e[r])&&(n[r]=e[r]),n}),{},H(e)):function(t,e){for(var n=0,r=e.length,o=[];n<r;)t(e[n])&&(o[o.length]=e[n]),n+=1;return o}(t,e)}))),ct=b((function(t,e){return at((n=t,function(){return!n.apply(this,arguments)}),e);var n}));function st(t,e){var n=function(n){var r=e.concat([t]);return et(n,r)?"<Circular>":st(n,r)},r=function(t,e){return j((function(e){return nt(e)+": "+n(t[e])}),e.slice().sort())};switch(Object.prototype.toString.call(t)){case"[object Arguments]":return"(function() { return arguments; }("+j(n,t).join(", ")+"))";case"[object Array]":return"["+j(n,t).concat(r(t,ct((function(t){return/^\d+$/.test(t)}),H(t)))).join(", ")+"]";case"[object Boolean]":return"object"==typeof t?"new Boolean("+n(t.valueOf())+")":t.toString();case"[object Date]":return"new Date("+(isNaN(t.valueOf())?n(NaN):nt(ot(t)))+")";case"[object Null]":return"null";case"[object Number]":return"object"==typeof t?"new Number("+n(t.valueOf())+")":1/t==-1/0?"-0":t.toString(10);case"[object String]":return"object"==typeof t?"new String("+n(t.valueOf())+")":nt(t);case"[object Undefined]":return"undefined";default:if("function"==typeof t.toString){var o=t.toString();if("[object Object]"!==o)return o}return"{"+r(t,H(t)).join(", ")+"}"}}const ft=v((function(t){return st(t,[])})),lt=b((function(t,e){return M(t+1,(function(){var n=arguments[t];if(null!=n&&V(n[e]))return n[e].apply(n,Array.prototype.slice.call(arguments,0,t));throw new TypeError(ft(n)+' does not have a method named "'+e+'"')}))})),pt=lt(1,"join"),dt=b((function(t,e){if(m(t)){if(m(e))return t.concat(e);throw new TypeError(ft(e)+" is not an array")}if(S(t)){if(S(e))return t+e;throw new TypeError(ft(e)+" is not a string")}if(null!=t&&V(t["fantasy-land/concat"]))return t["fantasy-land/concat"](e);if(null!=t&&V(t.concat))return t.concat(e);throw new TypeError(ft(t)+' does not have a method named "concat" or "fantasy-land/concat"')}));var yt=o(7459);function ht(t){return(ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function vt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function gt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?vt(Object(n),!0).forEach((function(e){bt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function bt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ot(t,e){return(Ot=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function wt(t,e){return!e||"object"!==ht(e)&&"function"!=typeof e?jt(t):e}function jt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function St(t){return(St=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var At=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ot(t,e)}(a,t);var n,r,o,i,u=(o=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=St(o);if(i){var n=St(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return wt(this,t)});function a(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(e=u.call(this,t)).state={aspects:t.aspects||{},ready:!1,initial:!1},e.setAspects=e.setAspects.bind(jt(e)),e.getAspect=e.getAspect.bind(jt(e)),e.updateAspects=e.updateAspects.bind(jt(e)),e.matchAspects=e.matchAspects.bind(jt(e)),e}return n=a,(r=[{key:"updateAspects",value:function(t){var e=this;return this.setAspects(t).then((function(){return e.props.updateAspects(e.props.identity,t)}))}},{key:"setAspects",value:function(t){var e=this;return new Promise((function(n){e.setState({aspects:gt(gt({},e.state.aspects),t)},n)}))}},{key:"getAspect",value:function(t){return this.state.aspects[t]}},{key:"matchAspects",value:function(t){var e=this;return H(this.state.aspects).filter((function(e){return t.test(e)})).map((function(t){return[t,e.state.aspects[t]]}))}},{key:"componentDidMount",value:function(){var t=this;this.props.connect(this.props.identity,this.setAspects,this.getAspect,this.matchAspects,this.updateAspects),this.state.initial||this.updateAspects(this.state.aspects).then((function(){return t.setState({ready:!0,initial:!0})}))}},{key:"componentWillUnmount",value:function(){this.props.disconnect(this.props.identity)}},{key:"render",value:function(){var t=this.props,n=t.component,r=t.component_name,o=t.package_name,i=this.state,u=i.aspects;return i.ready?e().cloneElement(n,gt(gt({},u),{},{updateAspects:this.updateAspects,identity:this.props.identity,class_name:pt(" ",dt(["".concat(o.replace("_","-").toLowerCase(),"-").concat((0,yt.camelToSpinal)(r))],u.class_name?u.class_name.split(" "):[]))})):null}}])&&mt(n.prototype,r),a}(e().Component);function Et(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function xt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Et(Object(n),!0).forEach((function(e){_t(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Et(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function _t(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function kt(t){return"Object"===g(t)&&t.hasOwnProperty("package")&&t.hasOwnProperty("aspects")&&t.hasOwnProperty("name")&&t.hasOwnProperty("identity")}function Tt(t,e,n,r,o){var i={};return Object.entries(t).forEach((function(t){var u,a,c=(a=2,function(t){if(Array.isArray(t))return t}(u=t)||function(t,e){var n=t&&("undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"]);if(null!=n){var r,o,i=[],u=!0,a=!1;try{for(n=n.call(t);!(u=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);u=!0);}catch(t){a=!0,o=t}finally{try{u||null==n.return||n.return()}finally{if(a)throw o}}return i}}(u,a)||function(t,e){if(t){if("string"==typeof t)return Pt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Pt(t,e):void 0}}(u,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),s=c[0],f=c[1];if("Array"===g(f))i[s]=f.map((function(t){if(!kt(t))return"Object"===g(t)?Tt(t,e,n,r,o):t;var i=Tt(t.aspects,e,n,r,o);return i.key||(i.key=t.identity),Rt(t.name,t.package,t.identity,i,e,n,r,o)}));else if(kt(f)){var l=Tt(f.aspects,e,n,r,o);i[s]=Rt(f.name,f.package,f.identity,l,e,n,r,o)}else"Object"===g(f)&&(i[s]=Tt(f,e,n,r,o))})),xt(xt({},t),i)}function Rt(t,n,r,o,i,u,a,c){var s=window[n];if(!s)throw new Error("Invalid package name: ".concat(n));var f=s[t];if(!f)throw new Error("Invalid component name: ".concat(n,".").concat(t));var l=e().createElement(f,o),p=function(c){var s=c.children;return e().createElement(At,{identity:r,updateAspects:i,component:l,connect:u,package_name:n,component_name:t,aspects:xt({children:s},o),disconnect:a,key:"wrapper-".concat(r)})};return f.isContext?(c(p),null):p({})}function Ct(t){return e().isValidElement(t)?{identity:t.props.identity,aspects:W(Ct,G(["identity","updateAspects","_name","_package","aspects","key"],t.props.aspects)),name:t.props.component_name,package:t.props.package_name}:"Array"===g(t)?t.map(Ct):"Object"===g(t)?W(Ct,t):t}function qt(t){return new Promise((function(e,n){var r,o=t.url,i=t.kind,u=t.meta;if("js"===i)r=yt.loadScript;else{if("css"!==i)return"map"===i?e():n({error:"Invalid requirement kind: ".concat(i)});r=yt.loadCss}return r(o,u).then(e).catch(n)}))}function Ut(t){return function e(n){for(var r,o,i,u=[],a=0,c=n.length;a<c;){if(A(n[a]))for(i=0,o=(r=t?e(n[a]):n[a]).length;i<o;)u[u.length]=r[i],i+=1;else u[u.length]=n[a];a+=1}return u}}At.propTypes={identity:a().string.isRequired,updateAspects:a().func.isRequired,component:a().node.isRequired,connect:a().func.isRequired,component_name:a().string.isRequired,package_name:a().string.isRequired,disconnect:a().func.isRequired};const Nt=v(Ut(!0)),It=b((function(t,e){var n={};for(var r in e)t(e[r],r,e)&&(n[r]=e[r]);return n})),Mt=b((function t(e,n){var r,o,i,u=n instanceof Array?[]:{};for(o in n)i=typeof(r=e[o]),u[o]="function"===i?r(n[o]):r&&"object"===i?t(r,n[o]):n[o];return u})),Dt=b((function(t,e){return null!=e&&e.constructor===t||e instanceof t})),Lt=b((function(t,e){if(0===t.length)return!1;for(var n=e,r=0;r<t.length;){if(!D(t[r],n))return!1;n=n[t[r]],r+=1}return!0})),zt=b((function(t,e){return Lt([t],e)}));function Bt(t){return function e(n,r,o){switch(arguments.length){case 0:return e;case 1:return h(n)?e:b((function(e,r){return t(n,e,r)}));case 2:return h(n)&&h(r)?e:h(n)?b((function(e,n){return t(e,r,n)})):h(r)?b((function(e,r){return t(n,e,r)})):v((function(e){return t(n,r,e)}));default:return h(n)&&h(r)&&h(o)?e:h(n)&&h(r)?b((function(e,n){return t(e,n,o)})):h(n)&&h(o)?b((function(e,n){return t(e,r,n)})):h(r)&&h(o)?b((function(e,r){return t(n,e,r)})):h(n)?v((function(e){return t(e,r,o)})):h(r)?v((function(e){return t(n,e,o)})):h(o)?v((function(e){return t(n,r,e)})):t(n,r,o)}}}const Ft=Bt((function(t,e,n){return n.replace(t,e)})),Jt=Bt(R),$t=v((function(t){var e=[];for(var n in t)D(n,t)&&(e[e.length]=[n,t[n]]);return e})),Ht=lt(1,"split");var Wt="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff";const Gt=v("function"==typeof String.prototype.trim&&!Wt.trim()&&"​".trim()?function(t){return t.trim()}:function(t){var e=new RegExp("^["+Wt+"]["+Wt+"]*"),n=new RegExp("["+Wt+"]["+Wt+"]*$");return t.replace(e,"").replace(n,"")});function Vt(t,e){return function(){var n=arguments.length;if(0===n)return e();var r=arguments[n-1];return m(r)||"function"!=typeof r[t]?e.apply(this,arguments):r[t].apply(r,Array.prototype.slice.call(arguments,0,n-1))}}const Xt=Bt(Vt("slice",(function(t,e,n){return Array.prototype.slice.call(n,t,e)}))),Yt=b((function(t,e){for(var n=e,r=0;r<t.length;){if(null==n)return;n=n[t[r]],r+=1}return n})),Zt=b((function(t,e){return Yt([t],e)})),Kt=b((function(t,e){return W(Zt(t),e)}));function Qt(t){return t&&t["@@transducer/reduced"]?t:{"@@transducer/value":t,"@@transducer/reduced":!0}}var te=function(){function t(t,e){this.xf=e,this.n=t,this.i=0}return t.prototype["@@transducer/init"]=C,t.prototype["@@transducer/result"]=q,t.prototype["@@transducer/step"]=function(t,e){this.i+=1;var n=0===this.n?t:this.xf["@@transducer/step"](t,e);return this.n>=0&&this.i>=this.n?Qt(n):n},t}();const ee=b(w(["take"],b((function(t,e){return new te(t,e)})),(function(t,e){return Xt(0,t<0?1/0:t,e)}))),ne=b(et);var re=function(){function t(t,e){this.xf=e,this.f=t,this.found=!1}return t.prototype["@@transducer/init"]=C,t.prototype["@@transducer/result"]=function(t){return this.found||(t=this.xf["@@transducer/step"](t,void 0)),this.xf["@@transducer/result"](t)},t.prototype["@@transducer/step"]=function(t,e){return this.f(e)&&(this.found=!0,t=Qt(this.xf["@@transducer/step"](t,e))),t},t}();const oe=b(w(["find"],b((function(t,e){return new re(t,e)})),(function(t,e){for(var n=0,r=e.length;n<r;){if(t(e[n]))return e[n];n+=1}}))),ie=b((function(t,e){return Array.prototype.slice.call(e,0).sort(t)})),ue=v((function(t){return S(t)?t.split("").reverse().join(""):Array.prototype.slice.call(t,0).reverse()}));function ae(t){return t}const ce=v(ae);function se(t,e,n){var r,o=typeof t;switch(o){case"string":case"number":return 0===t&&1/t==-1/0?!!n._items["-0"]||(e&&(n._items["-0"]=!0),!1):null!==n._nativeSet?e?(r=n._nativeSet.size,n._nativeSet.add(t),n._nativeSet.size===r):n._nativeSet.has(t):o in n._items?t in n._items[o]||(e&&(n._items[o][t]=!0),!1):(e&&(n._items[o]={},n._items[o][t]=!0),!1);case"boolean":if(o in n._items){var i=t?1:0;return!!n._items[o][i]||(e&&(n._items[o][i]=!0),!1)}return e&&(n._items[o]=t?[!1,!0]:[!0,!1]),!1;case"function":return null!==n._nativeSet?e?(r=n._nativeSet.size,n._nativeSet.add(t),n._nativeSet.size===r):n._nativeSet.has(t):o in n._items?!!et(t,n._items[o])||(e&&n._items[o].push(t),!1):(e&&(n._items[o]=[t]),!1);case"undefined":return!!n._items[o]||(e&&(n._items[o]=!0),!1);case"object":if(null===t)return!!n._items.null||(e&&(n._items.null=!0),!1);default:return(o=Object.prototype.toString.call(t))in n._items?!!et(t,n._items[o])||(e&&n._items[o].push(t),!1):(e&&(n._items[o]=[t]),!1)}}const fe=function(){function t(){this._nativeSet="function"==typeof Set?new Set:null,this._items={}}return t.prototype.add=function(t){return!se(t,!0,this)},t.prototype.has=function(t){return se(t,!1,this)},t}(),le=b((function(t,e){for(var n,r,o=new fe,i=[],u=0;u<e.length;)n=t(r=e[u]),o.add(n)&&i.push(r),u+=1;return i}))(ce),pe=b((function(t,e){for(var n=[],r=0,o=Math.min(t.length,e.length);r<o;)n[r]=[t[r],e[r]],r+=1;return n})),de=b((function(t,e){for(var n={},r=0;r<t.length;)t[r]in e&&(n[t[r]]=e[t[r]]),r+=1;return n})),ye=Bt((function(t,e,n){var r,o={};for(r in e)D(r,e)&&(o[r]=D(r,n)?t(r,e[r],n[r]):e[r]);for(r in n)D(r,n)&&!D(r,o)&&(o[r]=n[r]);return o})),he=Bt((function t(e,n,r){return ye((function(n,r,o){return it(r)&&it(o)?t(e,r,o):e(n,r,o)}),n,r)})),ve=b((function(t,e){return he((function(t,e,n){return n}),t,e)})),ge="function"==typeof Object.assign?Object.assign:function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1,r=arguments.length;n<r;){var o=arguments[n];if(null!=o)for(var i in o)D(i,o)&&(e[i]=o[i]);n+=1}return e},be=b((function(t,e){return ge({},t,e)})),me=b((function(t,e){return he((function(t,e,n){return e}),t,e)})),Oe=b((function(t,e){return ge({},e,t)})),we=v((function(t){for(var e={},n=0;n<t.length;)e[t[n][0]]=t[n][1],n+=1;return e}));var je=function(){function t(t,e){this.xf=e,this.n=t}return t.prototype["@@transducer/init"]=C,t.prototype["@@transducer/result"]=q,t.prototype["@@transducer/step"]=function(t,e){return this.n>0?(this.n-=1,t):this.xf["@@transducer/step"](t,e)},t}();const Se=b(w(["drop"],b((function(t,e){return new je(t,e)})),(function(t,e){return Xt(Math.max(0,t),1/0,e)})));function Ae(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Ee=function(t){return Dt(Object,t)&&zt("identity",t)&&zt("aspect",t)},xe=function(t,e){return Ee(t)?e(t.identity,t.aspect):t},_e={ToUpper:function(t){return t.toUpperCase()},ToLower:function(t){return t.toLowerCase()},Format:function(t,e){var n=e.template;return Dt(String,t)||Dt(Number,t)||Dt(Boolean,t)?Ft("${value}",t,n):Dt(Object,t)?Jt((function(t,e){var n,r,o=(r=2,function(t){if(Array.isArray(t))return t}(n=e)||function(t,e){var n=t&&("undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"]);if(null!=n){var r,o,i=[],u=!0,a=!1;try{for(n=n.call(t);!(u=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);u=!0);}catch(t){a=!0,o=t}finally{try{u||null==n.return||n.return()}finally{if(a)throw o}}return i}}(n,r)||function(t,e){if(t){if("string"==typeof t)return Ae(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ae(t,e):void 0}}(n,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=o[0],u=o[1];return Ft("${".concat(i,"}"),u,t)}),n,$t(t)):t},Split:function(t,e){var n=e.separator;return Ht(n,t)},Trim:function(t){return Gt(t)},Add:function(t,e,n){return Dt(Number,e.value)?t+e.value:t+xe(e.value,n)},Sub:function(t,e,n){return Dt(Number,e.value)?t-e.value:t-xe(e.value,n)},Divide:function(t,e,n){return Dt(Number,e.value)?t/e.value:t/xe(e.value,n)},Multiply:function(t,e,n){return Dt(Number,e.value)?t*e.value:t*xe(e.value,n)},Modulus:function(t,e,n){return Dt(Number,e.value)?t%e.value:t%xe(e.value,n)},ToPrecision:function(t,e){return t.toPrecision(e.precision)},Concat:function(t,e,n){var r=e.other;return dt(t,xe(r,n))},Slice:function(t,e){return Xt(e.start,e.stop,t)},Map:function(t,e,n){var r=e.transform;return t.map((function(t){return Pe(r.transform,t,r.args,r.next,n)}))},Filter:function(t,e,n){var r=e.comparison;return t.filter((function(t){return Pe(r.transform,t,r.args,r.next,n)}))},Reduce:function(t,e,n){var r=e.transform,o=e.accumulator,i=xe(o,n);return t.reduce((function(t,e){return Pe(r.transform,[t,e],r.args,r.next,n)}),i)},Pluck:function(t,e){var n=e.field;return Kt(n,t)},Append:function(t,e,n){return dt(t,[xe(e.value,n)])},Prepend:function(t,e,n){return dt([xe(e.value,n)],t)},Insert:function(t,e,n){var r=e.target,o=e.front,i=xe(r,n);return o?dt([t],i):dt(i,[t])},Take:function(t,e,n){var r=e.n;return ee(xe(r,n),t)},Length:function(t){return t.length},Range:function(t,e,n){for(var r=e.start,o=e.end,i=e.step,u=xe(r,n),a=xe(o,n),c=u,s=[];c<a;)s.push(c),c+=i;return s},Includes:function(t,e,n){return ne(xe(e.value,n),t)},Find:function(t,e,n){var r=e.comparison;return oe((function(t){return Pe(r.transform,t,r.args,r.next,n)}))(t)},Join:function(t,e,n){return pt(xe(e.separator,n),t)},Sort:function(t,e,n){var r=e.transform;return ie((function(t,e){return Pe(r.transform,[t,e],r.args,r.next,n)}),t)},Reverse:function(t){return ue(t)},Unique:function(t){return le(t)},Zip:function(t,e,n){return pe(t,xe(e.value,n))},Pick:function(t,e){return de(e.fields,t)},Get:function(t,e){return t[e.field]},Set:function(t,e,n){var r=e.key,o=e.value;return t[r]=xe(o,n),t},Put:function(t,e,n){var r=e.key,o=e.target,i=xe(o,n);return i[r]=t,i},Merge:function(t,e,n){var r=e.deep,o=e.direction,i=e.other,u=i;return Ee(i)&&(u=n(i.identity,i.aspect)),"right"===o?r?ve(t,u):be(t,u):r?me(t,u):Oe(t,u)},ToJson:function(t){return JSON.stringify(t)},FromJson:function(t){return JSON.parse(t)},ToPairs:function(t){return $t(t)},FromPairs:function(t){return we(t)},If:function(t,e,n){var r=e.comparison,o=e.then,i=e.otherwise;return(0,_e[r.transform])(t,r.args,n)?Pe(o.transform,t,o.args,o.next,n):i?Pe(i.transform,t,i.args,i.next,n):t},Equals:function(t,e,n){return tt(t,xe(e.other,n))},NotEquals:function(t,e,n){return!tt(t,xe(e.other,n))},Match:function(t,e,n){return new RegExp(xe(e.other,n)).test(t)},Greater:function(t,e,n){return t>xe(e.other,n)},GreaterOrEquals:function(t,e,n){return t>=xe(e.other,n)},Lesser:function(t,e,n){return t<xe(e.other,n)},LesserOrEquals:function(t,e,n){return t<=xe(e.other,n)},And:function(t,e,n){return t&&xe(e.other,n)},Or:function(t,e,n){return t||xe(e.other,n)},Not:function(t){return!t},RawValue:function(t,e){return e.value},AspectValue:function(t,e,n){var r=e.target;return n(r.identity,r.aspect)}},Pe=function t(e,n,r,o,i){var u=(0,_e[e])(n,r,i);if(o.length){var a=o[0];return t(a.transform,u,a.args,dt(a.next,Se(1,o)),i)}return u};function ke(t){return(ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Te(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Re(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ce(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Re(Object(n),!0).forEach((function(e){qe(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Re(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function qe(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ue(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ne(t,e){return(Ne=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ie(t,e){return!e||"object"!==ke(e)&&"function"!=typeof e?Me(t):e}function Me(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function De(t){return(De=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Le=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ne(t,e)}(a,t);var n,r,o,i,u=(o=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=De(o);if(i){var n=De(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Ie(this,t)});function a(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(e=u.call(this,t)).state={layout:!1,ready:!1,page:null,bindings:{},packages:[],requirements:[],reloading:!1,needRefresh:!1,ties:{}},e.pageApi=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return function(){var e=t+arguments[0],n=arguments[1]||{};return n.headers=s({},n.headers),new Promise((function(t){y(e,n).then(t)}))}}(window.location.href),e.boundComponents={},e.ws=null,e.updateAspects=e.updateAspects.bind(Me(e)),e.connect=e.connect.bind(Me(e)),e.disconnect=e.disconnect.bind(Me(e)),e.onMessage=e.onMessage.bind(Me(e)),e}return n=a,(r=[{key:"updateAspects",value:function(t,e){var n=this;return new Promise((function(r){var o=H(e),i=o.map((function(r){return Ce(Ce({},n.state.bindings["".concat(r,"@").concat(t)]),{},{value:e[r]})})).filter((function(t){return t.trigger}));if(n.state.rebindings.forEach((function(n){n.trigger.identity.test(t)&&(i=dt(i,o.filter((function(t){return n.trigger.aspect.test(t)})).map((function(r){return Ce(Ce({},n),{},{value:e[r],trigger:Ce(Ce({},n.trigger),{},{identity:t,aspect:r})})}))))})),Nt(o.map((function(r){for(var o=[],i=0;i<n.state.ties.length;i++){var u=n.state.ties[i],a=u.trigger;(a.regex&&a.identity.test(t)&&a.aspect.test(r)||a.identity===t&&a.aspect===r)&&o.push(Ce(Ce({},u),{},{value:e[r]}))}return o}))).forEach((function(t){var e=t.transforms,r=t.value;e&&(r=e.reduce((function(t,e){return Pe(e.transform,t,e.args,e.next,n.getAspect.bind(n))}),r)),t.targets.forEach((function(t){var e=n.boundComponents[t.identity];e&&e.updateAspects(qe({},t.aspect,r))}))})),!i)return r(0);i.forEach((function(t){return n.sendBinding(t,t.value)})),r(i.length)}))}},{key:"getAspect",value:function(t,e){var n=this.boundComponents[t];if(n)return n.getAspect(e)}},{key:"connect",value:function(t,e,n,r,o){this.boundComponents[t]={setAspects:e,getAspect:n,matchAspects:r,updateAspects:o}}},{key:"disconnect",value:function(t){delete this.boundComponents[t]}},{key:"onMessage",value:function(t){var e,n=this,r=JSON.parse(t.data),o=r.identity,i=r.kind,u=r.payload,a=r.storage,c=r.request_id;switch(e="session"===a?window.sessionStorage:window.localStorage,i){case"set-aspect":var s=function(t){return t.setAspects(Tt(u,n.updateAspects,n.connect,n.disconnect)).then((function(){return n.updateAspects(o,u)}))};if(r.regex){var f=new RegExp(r.identity);H(this.boundComponents).filter((function(t){return f.test(t)})).map((function(t){return n.boundComponents[t]})).forEach(s)}else s(this.boundComponents[o]);break;case"get-aspect":var l=r.aspect,p=this.boundComponents[o];if(!p)return void this.ws.send(JSON.stringify({kind:i,identity:o,aspect:l,request_id:c,error:"Aspect not found ".concat(o,".").concat(l)}));var d=p.getAspect(l);this.ws.send(JSON.stringify({kind:i,identity:o,aspect:l,value:Ct(d),request_id:c}));break;case"set-storage":e.setItem(o,JSON.stringify(u));break;case"get-storage":this.ws.send(JSON.stringify({kind:i,identity:o,request_id:c,value:JSON.parse(e.getItem(o))}));break;case"reload":var y=r.filenames,h=r.hot,v=r.refresh,g=r.deleted;if(v)return this.ws.close(),this.setState({reloading:!0,needRefresh:!0});if(h)return this.setState({reloading:!0});y.forEach(qt),g.forEach((function(t){return(0,yt.disableCss)(t.url)}))}}},{key:"sendBinding",value:function(t,e){var n=this,r={trigger:Ce(Ce({},t.trigger),{},{value:Ct(e)}),states:t.states.reduce((function(t,e){if(e.regex){var r=new RegExp(e.identity),o=new RegExp(e.aspect);return dt(t,Nt(H(n.boundComponents).map((function(t){var i=[];return r.test(t)&&(i=n.boundComponents[t].matchAspects(o).map((function(n){var r,o,i=(o=2,function(t){if(Array.isArray(t))return t}(r=n)||function(t,e){var n=t&&("undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"]);if(null!=n){var r,o,i=[],u=!0,a=!1;try{for(n=n.call(t);!(u=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);u=!0);}catch(t){a=!0,o=t}finally{try{u||null==n.return||n.return()}finally{if(a)throw o}}return i}}(r,o)||function(t,e){if(t){if("string"==typeof t)return Te(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Te(t,e):void 0}}(r,o)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),u=i[0],a=i[1];return Ce(Ce({},e),{},{identity:t,aspect:u,value:Ct(a)})}))),i}))))}return t.push(Ce(Ce({},e),{},{value:n.boundComponents[e.identity]&&Ct(n.boundComponents[e.identity].getAspect(e.aspect))})),t}),[]),kind:"binding",page:this.state.page,key:t.key};this.ws.send(JSON.stringify(r))}},{key:"_connectWS",value:function(){var t=this,e=0,n=!1;!function r(){var o="ws".concat(window.location.href.startsWith("https")?"s":"","://").concat(t.props.baseUrl&&t.props.baseUrl||window.location.host,"/").concat(t.state.page,"/ws");t.ws=new WebSocket(o),t.ws.addEventListener("message",t.onMessage),t.ws.onopen=function(){t.state.reloading?(n=!0,t.ws.close(),t.state.needRefresh?window.location.reload():t.props.hotReload()):(t.setState({ready:!0}),e=0)},t.ws.onclose=function(){!n&&e<t.props.retries&&setTimeout((function(){e++,r()}),1e3)}}()}},{key:"componentDidMount",value:function(){var t=this;this.pageApi("",{method:"POST"}).then((function(e){var n=function(t){return new RegExp(t)};t.setState({page:e.page,layout:e.layout,bindings:It((function(t){return!t.regex}),e.bindings),rebindings:W((function(t){var r=e.bindings[t];return r.trigger=Mt({identity:n,aspect:n},r.trigger),r}),H(It((function(t){return t.regex}),e.bindings))),packages:e.packages,requirements:e.requirements,ties:W((function(t){return t.trigger.regex?Mt({trigger:{identity:n,aspect:n}},t):t}),e.ties)},(function(){return(n=e.requirements,r=e.packages,new Promise((function(t,e){var o=[];Object.keys(r).forEach((function(t){var e=r[t];o=o.concat(e.requirements.map(qt))})),Promise.all(o).then((function(){var e=0;!function r(){e<n.length?qt(n[e]).then((function(){e++,r()})):t()}()})).catch(e)}))).then((function(){H(e.bindings).length||e.reload?t._connectWS():t.setState({ready:!0})}));var n,r}))}))}},{key:"render",value:function(){var t=this.state,n=t.layout,r=t.ready,o=t.reloading;if(!r)return e().createElement("div",{className:"dazzler-loading-container"},e().createElement("div",{className:"dazzler-spin"}),e().createElement("div",{className:"dazzler-loading"},"Loading..."));if(o)return e().createElement("div",{className:"dazzler-loading-container"},e().createElement("div",{className:"dazzler-spin reload"}),e().createElement("div",{className:"dazzler-loading"},"Reloading..."));if(!kt(n))throw new Error("Layout is not a component: ".concat(n));var i=[],u=function(t){i.push(t)},a=Rt(n.name,n.package,n.identity,Tt(n.aspects,this.updateAspects,this.connect,this.disconnect,u),this.updateAspects,this.connect,this.disconnect,u);return e().createElement("div",{className:"dazzler-rendered"},i.length?i.reduce((function(t,n,r){return t?e().createElement(n,null,t):e().createElement(n,null,a)}),null):a)}}])&&Ue(n.prototype,r),a}(e().Component);function ze(){return(ze=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function Be(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}Le.defaultProps={},Le.propTypes={baseUrl:a().string.isRequired,ping:a().bool,ping_interval:a().number,retries:a().number,hotReload:a().func};var Fe=function(n){var r,o,i=(r=(0,t.useState)(1),o=2,function(t){if(Array.isArray(t))return t}(r)||function(t,e){var n=t&&("undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"]);if(null!=n){var r,o,i=[],u=!0,a=!1;try{for(n=n.call(t);!(u=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);u=!0);}catch(t){a=!0,o=t}finally{try{u||null==n.return||n.return()}finally{if(a)throw o}}return i}}(r,o)||function(t,e){if(t){if("string"==typeof t)return Be(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Be(t,e):void 0}}(r,o)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),u=i[0],a=i[1];return window.dazzler_base_url=n.baseUrl,e().createElement("div",{className:"dazzler-renderer"},e().createElement(Le,ze({},n,{key:"upd-".concat(u),hotReload:function(){return a(u+1)}})))};Fe.propTypes={baseUrl:a().string.isRequired,ping:a().bool,ping_interval:a().number,retries:a().number};const Je=Fe;function $e(t,n){var o=t.baseUrl,i=t.ping,u=t.ping_interval,a=t.retries;r().render(e().createElement(Je,{baseUrl:o,ping:i,ping_interval:u,retries:a}),n)}})(),i})()}));
//# sourceMappingURL=dazzler_renderer_fd41d0c28048d730f0132eadbc8b10e3..js.map