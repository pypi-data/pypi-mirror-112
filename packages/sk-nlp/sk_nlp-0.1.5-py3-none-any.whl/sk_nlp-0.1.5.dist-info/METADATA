Metadata-Version: 2.1
Name: sk-nlp
Version: 0.1.5
Summary: nlp kit.
Home-page: https://github.com/me/myproject
Author: wengsongxiu
Author-email: wengsongxiu@mastercom.cn
License: MIT
Platform: UNKNOWN
Classifier: License :: OSI Approved :: MIT License
Classifier: Programming Language :: Python
Classifier: Programming Language :: Python :: 3
Classifier: Programming Language :: Python :: 3.6
Classifier: Programming Language :: Python :: Implementation :: CPython
Classifier: Programming Language :: Python :: Implementation :: PyPy
Requires-Python: >=3.6.0
Description-Content-Type: text/markdown
Requires-Dist: numpy
Requires-Dist: scipy
Requires-Dist: tensorflow-gpu
Requires-Dist: bert4keras
Requires-Dist: sk-common


# sk-nlp

[![Travis](https://travis-ci.org/CyberZHG/keras-transformer.svg)](https://travis-ci.org/CyberZHG/keras-transformer)
[![Coverage](https://coveralls.io/repos/github/CyberZHG/keras-transformer/badge.svg?branch=master)](https://coveralls.io/github/CyberZHG/keras-transformer)

![](https://img.shields.io/badge/keras-tensorflow-blue.svg)
![](https://img.shields.io/badge/keras-tf.keras-blue.svg)
![](https://img.shields.io/badge/keras-tf.keras/eager-blue.svg)
![](https://img.shields.io/badge/keras-tf.keras/2.0_beta-blue.svg)



ğŸ“¦ é¡¹ç›®ä»‹ç» (for humans)
=======================

è¿™ä¸ªç¬¬ä¸‰æ–¹ä»“åº“æ˜¯ç”±æ·±åœ³å¸‚åé€šç§‘æŠ€è‚¡ä»½æœ‰é™å…¬å¸AIå›¢é˜Ÿæä¾›çš„ã€‚å›¢é˜Ÿè‡´åŠ›äºä¸ºNLPé¢†åŸŸï¼Œæä¾›ä¸€ä¸ªç¨³å®šå¯é ï¼Œ åŠŸèƒ½å®Œå–„çš„NLPå¸¸è§æ“ä½œã€‚


Installation
-----

```bash
cd your_project
pip install sk-nlp
```

## Usage
<div class="section" id="sk-nlp">
<h1>sk_nlp<a class="headerlink" href="#sk-nlp" title="Permalink to this headline">Â¶</a></h1>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="sk_nlp.html">sk_nlp package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="sk_nlp.html#subpackages">Subpackages</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#sk-nlp-nlp-feature-embedding-package">sk_nlp.nlp_feature_embedding package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#module-sk_nlp.nlp_feature_embedding.bert">sk_nlp.nlp_feature_embedding.bert module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-sk_nlp.nlp_feature_embedding.similarity">sk_nlp.nlp_feature_embedding.similarity module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-sk_nlp.nlp_feature_embedding.w2v">sk_nlp.nlp_feature_embedding.w2v module</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="sk_nlp.nlp_feature_extract.html">sk_nlp.nlp_feature_extract package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#module-sk_nlp.nlp_feature_extract.feature">sk_nlp.nlp_feature_extract.feature module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-sk_nlp.nlp_feature_extract.text_filter">sk_nlp.nlp_feature_extract.text_filter module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-sk_nlp.nlp_feature_extract.tokenizer">sk_nlp.nlp_feature_extract.tokenizer module</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<div class="section" id="sk-nlp-nlp-feature-extract-package">

<div class="section" id="module-sk_nlp.nlp_feature_extract.feature">
<span id="sk-nlp-nlp-feature-extract-feature-module"></span><h2>sk_nlp.nlp_feature_extract.feature module</h2>
<p>0 ä½¿ç”¨acè‡ªåŠ¨æœºç»Ÿè®¡ç»™å®šçš„è¯è¯­çš„è¯é¢‘
1 è·å–tf-idfç‰¹å¾</p>
<dl class="py class">
<dt class="sig sig-object py" id="sk_nlp.nlp_feature_extract.feature.CountByAC">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">sk_nlp.nlp_feature_extract.feature.</span></span><span class="sig-name descname"><span class="pre">CountByAC</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pattern_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>åŸºäºacè‡ªåŠ¨æœºæ¥ç»Ÿè®¡æ¨¡å¼ä¸²</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>pattern_list</strong> â€“ åŒ¹é…çš„æ¨¡å¼ä¸²åˆ—è¡¨</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="sk_nlp.nlp_feature_extract.feature.CountByAC.build_tree">
<span class="sig-name descname"><span class="pre">build_tree</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pattern_list</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>æ„å»ºæ¨¡å¼ä¸²å‰ç¼€æ ‘</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>pattern_list</strong> â€“ æ¨¡å¼ä¸²åˆ—è¡¨</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sk_nlp.nlp_feature_extract.feature.CountByAC.count">
<span class="sig-name descname"><span class="pre">count</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sentence</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>ç»Ÿè®¡sentenceä¸­å…³äºç»™å®šçš„æ¨¡å¼ä¸²çš„é¢‘ç‡</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>sentence</strong> â€“ å¥å­</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>word_count æ¯ä¸ªå…³é”®è¯å¯¹åº”çš„é¢‘ç‡</p>
</dd>
</dl>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ac</span> <span class="o">=</span> <span class="n">CountByAC</span><span class="p">([</span><span class="s1">&#39;æ°ä¼¦çš„ä¸ƒ&#39;</span><span class="p">,</span> <span class="s1">&#39;å‘¨æ°ä¼¦çš„&#39;</span><span class="p">,</span> <span class="s1">&#39;ä¸ƒé‡Œé¦™&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ac</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="s1">&#39;å‘¨æ°ä¼¦çš„ä¸ƒé‡Œé¦™ä¸ƒé‡Œé¦™&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">{&#39;å‘¨æ°ä¼¦çš„&#39;: 1, &#39;æ°ä¼¦çš„ä¸ƒ&#39;: 1, &#39;ä¸ƒé‡Œé¦™&#39;: 2}</span>
</pre></div>
</div>
</dd></dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sk_nlp.nlp_feature_extract.feature.KeyWordExtract">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">sk_nlp.nlp_feature_extract.feature.</span></span><span class="sig-name descname"><span class="pre">KeyWordExtract</span></span></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>å…³é”®è¯æŠ½å–ç®—æ³•ï¼ŒåŸºäºtf-idf</p>
<dl class="py method">
<dt class="sig sig-object py" id="sk_nlp.nlp_feature_extract.feature.KeyWordExtract.get_tf_idf">
<span class="sig-name descname"><span class="pre">get_tf_idf</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sentence_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_file</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>åŠ è½½tf-idfæ¨¡å‹ï¼Œè¿”å›sentence_listå¯¹åº”çš„ç‰¹å¾å’Œæ¨¡å‹</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sentence_list</strong> â€“ å¥å­åˆ—è¡¨ï¼ˆåˆ†è¯åï¼‰</p></li>
<li><p><strong>model_file</strong> â€“ tf-idfæ¨¡å‹æ–‡ä»¶</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>tf_idf_model(æ¨¡å‹å®ä¾‹), tfidf_feature(sentence_listå¯¹åº”çš„tf-idfç‰¹å¾)</p>
</dd>
</dl>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">tf_idf_model</span><span class="p">,</span> <span class="n">tfidf_feature</span> <span class="o">=</span> <span class="n">kwe</span><span class="o">.</span><span class="n">get_tf_idf</span><span class="p">([</span><span class="s1">&#39;æ°ä¼¦ æ˜¯ å°æ¹¾ æ­Œæ‰‹&#39;</span><span class="p">,</span> <span class="s1">&#39;ä¸ƒé‡Œé¦™ æ˜¯ æ°ä¼¦ åˆ›ä½œ&#39;</span><span class="p">],</span> <span class="n">file_conf</span><span class="o">.</span><span class="n">tf_idf_file_path</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">tfidf_feature</span><span class="p">)</span>
<span class="go">  (0, 4)        0.6316672017376245</span>
<span class="go">  (0, 3)        0.4494364165239821</span>
<span class="go">  (0, 2)        0.6316672017376245</span>
<span class="go">  (1, 3)        0.4494364165239821</span>
<span class="go">  (1, 1)        0.6316672017376245</span>
<span class="go">  (1, 0)        0.6316672017376245</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sk_nlp.nlp_feature_extract.feature.KeyWordExtract.get_topk_keywords">
<span class="sig-name descname"><span class="pre">get_topk_keywords</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">topk</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">200</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>å¾—åˆ°topkä¸ªå…³é”®è¯</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data_list</strong> â€“ å¥å­åˆ—è¡¨ï¼ˆåˆ†è¯åï¼‰</p></li>
<li><p><strong>topk</strong> â€“ tf-idfé‡è¦åº¦æ’åºåå‰topk</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>keywords</p>
</dd>
</dl>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">keywords</span> <span class="o">=</span> <span class="n">kwe</span><span class="o">.</span><span class="n">get_topk_keywords</span><span class="p">([</span><span class="s1">&#39;æ°ä¼¦ æ˜¯ å°æ¹¾ æ­Œæ‰‹&#39;</span><span class="p">,</span> <span class="s1">&#39;ä¸ƒé‡Œé¦™ æ˜¯ æ°ä¼¦ åˆ›ä½œ&#39;</span><span class="p">],</span> <span class="n">topk</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">keywords</span><span class="p">)</span>
<span class="go">[[&#39;æ­Œæ‰‹&#39;][&#39;åˆ›ä½œ&#39;]]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sk_nlp.nlp_feature_extract.feature.KeyWordExtract.train_tf_idf">
<span class="sig-name descname"><span class="pre">train_tf_idf</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sentence_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_file</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ngram_range</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(1,</span> <span class="pre">1)</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>è®­ç»ƒtf-idfæ¨¡å‹ï¼Œä¿å­˜æ¨¡å‹ï¼Œè¿”å›æ¨¡å‹å’Œç‰¹å¾</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sentence_list</strong> â€“ å¥å­åˆ—è¡¨ï¼ˆåˆ†è¯åï¼‰</p></li>
<li><p><strong>model_file</strong> â€“ tf-idfæ¨¡å‹ä¿å­˜æ–‡ä»¶</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>tf_idf_model, tfidf_feature</p>
</dd>
</dl>
</dd></dl>
</dd></dl></div>



<div class="section" id="module-sk_nlp.nlp_feature_extract.text_filter">
<span id="sk-nlp-nlp-feature-extract-text-filter-module"></span><h2>sk_nlp.nlp_feature_extract.text_filter module</h2>
<p>æ•æ„Ÿè¯æ±‡è¿‡æ»¤æ¨¡å—ï¼Œå…±å®ç°äº†3ä¸ªç±»ï¼šNaiveFilterï¼ŒBSFilterï¼ŒDFAFilter</p>
<dl class="py class">
<dt class="sig sig-object py" id="sk_nlp.nlp_feature_extract.text_filter.BSFilter">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">sk_nlp.nlp_feature_extract.text_filter.</span></span><span class="sig-name descname"><span class="pre">BSFilter</span></span></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>å®½åº¦ä¼˜å…ˆéå†çš„æ–¹å¼è¿‡æ»¤</p>
<dl class="py method">
<dt class="sig sig-object py" id="sk_nlp.nlp_feature_extract.text_filter.BSFilter.add">
<span class="sig-name descname"><span class="pre">add</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">keyword</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>æ–°å¢ä¸€ä¸ªæ•æ„Ÿè¯</p>
<p>:param keyword:æ•æ„Ÿè¯
:return:æ— </p>
</dd></dl>


<dl class="py method">
<dt class="sig sig-object py" id="sk_nlp.nlp_feature_extract.text_filter.BSFilter.filter">
<span class="sig-name descname"><span class="pre">filter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">message</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">repl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'*'</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>è¿‡æ»¤æ‰æ•æ„Ÿè¯</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>message</strong> â€“ åŸå§‹çš„è¾“å…¥å¥å­</p></li>
<li><p><strong>repl</strong> â€“ æ•æ„Ÿè¯æ±‡è¢«æ›¿æ¢æˆçš„å­—ç¬¦</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>message å±è”½æ‰æ•æ„Ÿè¯æ±‡çš„å¥å­</p>
</dd>
</dl>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">BSFilter</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">question</span> <span class="o">=</span> <span class="s2">&quot;å°æ¹¾æ˜¯ä¸­å›½çš„å—&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">filter_question</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">question</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">question</span><span class="p">,</span> <span class="n">filter_question</span><span class="p">)</span>
<span class="go">å°æ¹¾æ˜¯ä¸­å›½çš„å— *æ˜¯ä¸­å›½çš„å—</span>
</pre></div>
</div>
</dd></dl>
</dd></dl>



<dl class="py class">
<dt class="sig sig-object py" id="sk_nlp.nlp_feature_extract.text_filter.DFAFilter">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">sk_nlp.nlp_feature_extract.text_filter.</span></span><span class="sig-name descname"><span class="pre">DFAFilter</span></span></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>DFAå³Deterministic Finite Automatonï¼Œä¹Ÿå°±æ˜¯ç¡®å®šæœ‰ç©·è‡ªåŠ¨æœºã€‚
ç®—æ³•æ ¸å¿ƒæ˜¯å»ºç«‹äº†ä»¥æ•æ„Ÿè¯ä¸ºåŸºç¡€çš„è®¸å¤šæ•æ„Ÿè¯æ ‘</p>
<dl class="py method">
<dt class="sig sig-object py" id="sk_nlp.nlp_feature_extract.text_filter.DFAFilter.add">
<span class="sig-name descname"><span class="pre">add</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">keyword</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>æ–°å¢ä¸€ä¸ªæ•æ„Ÿè¯</p>
<p>:param keyword:æ•æ„Ÿè¯
:return:æ— </p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sk_nlp.nlp_feature_extract.text_filter.DFAFilter.detect">
<span class="sig-name descname"><span class="pre">detect</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">message</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>åˆ¤æ–­messageæ˜¯å¦åŒ…å«æ•æ„Ÿè¯æ±‡</p>
<p>:param message:ç”¨æˆ·è¾“å…¥çš„å¥å­
:return: True/False</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sk_nlp.nlp_feature_extract.text_filter.DFAFilter.filter">
<span class="sig-name descname"><span class="pre">filter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">message</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">repl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'*'</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>è¿‡æ»¤æ‰æ•æ„Ÿè¯</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>message</strong> â€“ åŸå§‹çš„è¾“å…¥å¥å­</p></li>
<li><p><strong>repl</strong> â€“ æ•æ„Ÿè¯æ±‡è¢«æ›¿æ¢æˆçš„å­—ç¬¦</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>message å±è”½æ‰æ•æ„Ÿè¯æ±‡çš„å¥å­</p>
</dd>
</dl>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">DFAFilter</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">question</span> <span class="o">=</span> <span class="s2">&quot;å°æ¹¾æ˜¯ä¸­å›½çš„å—&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">filter_question</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">question</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">question</span><span class="p">,</span> <span class="n">filter_question</span><span class="p">)</span>
<span class="go">å°æ¹¾æ˜¯ä¸­å›½çš„å— *æ˜¯ä¸­å›½çš„å—</span>
</pre></div>
</div>
</dd></dl>
</dd></dl>



<dl class="py class">
<dt class="sig sig-object py" id="sk_nlp.nlp_feature_extract.text_filter.NaiveFilter">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">sk_nlp.nlp_feature_extract.text_filter.</span></span><span class="sig-name descname"><span class="pre">NaiveFilter</span></span></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>æ™®é€šçš„è¿‡æ»¤æ–¹å¼ï¼šä½¿ç”¨é›†åˆçš„æ–¹å¼è¿‡æ»¤ï¼Œæ—¶é—´å¤æ‚åº¦è·Ÿé›†åˆçš„å¤§å°æœ‰å…³</p>
<dl class="py method">
<dt class="sig sig-object py" id="sk_nlp.nlp_feature_extract.text_filter.NaiveFilter.filter">
<span class="sig-name descname"><span class="pre">filter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">message</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">repl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'*'</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>è¿‡æ»¤æ‰æ•æ„Ÿè¯</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>message</strong> â€“ åŸå§‹çš„è¾“å…¥å¥å­</p></li>
<li><p><strong>repl</strong> â€“ æ•æ„Ÿè¯æ±‡è¢«æ›¿æ¢æˆçš„å­—ç¬¦</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>messageï¼šå±è”½æ‰æ•æ„Ÿè¯æ±‡çš„å¥å­</p>
</dd>
</dl>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">NaiveFilter</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">question</span> <span class="o">=</span> <span class="s2">&quot;å°æ¹¾æ˜¯ä¸­å›½çš„å—&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">filter_question</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">question</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">question</span><span class="p">,</span> <span class="n">filter_question</span><span class="p">)</span>
<span class="go">å°æ¹¾æ˜¯ä¸­å›½çš„å— *æ˜¯ä¸­å›½çš„å—</span>
</pre></div>
</div>
</dd></dl>
</dd></dl>
</div>

<div class="section" id="module-sk_nlp.nlp_feature_extract.tokenizer">
<span id="sk-nlp-nlp-feature-extract-tokenizer-module"></span><h2>sk_nlp.nlp_feature_extract.tokenizer module</h2>
<p>è¯è¯­ç²’åº¦çš„æ“ä½œæ¨¡å—ï¼šåˆ†è¯ï¼Œå»åœç”¨è¯ï¼ŒåŒä¹‰è¯æ—è½¬æ¢</p>
<dl class="py class">
<dt class="sig sig-object py" id="sk_nlp.nlp_feature_extract.tokenizer.SentenceCut">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">sk_nlp.nlp_feature_extract.tokenizer.</span></span><span class="sig-name descname"><span class="pre">SentenceCut</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">is_lower</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stopword_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_chinese_synonyms</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>å¥å­åˆ†è¯æ“ä½œç±»
ç›®å‰é›†æˆäº†jiebaåˆ†è¯</p>
<dl class="py method">
<dt class="sig sig-object py" id="sk_nlp.nlp_feature_extract.tokenizer.SentenceCut.cut_word">
<span class="sig-name descname"><span class="pre">cut_word</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sentence_list</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>å¯¹ä¼ è¿›æ¥çš„å¥å­è¿›è¡Œåˆ†è¯</p>
<p>:param sentence_list:[â€˜æˆ‘çˆ±ä¸­å›½â€™, â€˜æˆ‘æ˜¯ä¸­å›½äººâ€™]
:return:seg_lists [[â€˜æˆ‘â€™, â€˜çˆ±â€™, â€˜ä¸­å›½â€™], [â€˜æˆ‘â€™, â€˜æ˜¯â€™, â€˜ä¸­å›½â€™, â€˜äººâ€™]]  token_count {â€˜æˆ‘â€™: 2, â€˜çˆ±â€™: 1, â€˜ä¸­å›½â€™: 2, â€˜æ˜¯â€™: 1, â€˜äººâ€™: 1}</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">sen_cut</span> <span class="o">=</span> <span class="n">SentenceCut</span><span class="p">(</span><span class="n">use_chinese_synonyms</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">seg_lists</span><span class="p">,</span> <span class="n">token_count</span> <span class="o">=</span> <span class="n">sen_cut</span><span class="o">.</span><span class="n">cut_word</span><span class="p">([</span><span class="s1">&#39;æˆ‘çˆ±baidu&#39;</span><span class="p">,</span> <span class="s1">&#39;æˆ‘æ˜¯ä¸­å›½äºº&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">seg_lists</span><span class="p">,</span> <span class="n">token_count</span><span class="p">)</span>
<span class="go">[[&#39;æˆ‘&#39;, &#39;çˆ±&#39;, &#39;ç™¾åº¦&#39;], [&#39;æˆ‘&#39;, &#39;æ˜¯&#39;, &#39;ä¸­å›½&#39;, &#39;äºº&#39;]]</span>
<span class="go">{&#39;æˆ‘&#39;: 2, &#39;çˆ±&#39;: 1, &#39;ç™¾åº¦&#39;: 1, &#39;æ˜¯&#39;: 1, &#39;ä¸­å›½&#39;: 1, &#39;äºº&#39;: 1}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sk_nlp.nlp_feature_extract.tokenizer.SentenceCut.load_chinese_synonyms">
<span class="sig-name descname"><span class="pre">load_chinese_synonyms</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
<dd><p>åŠ è½½åŒä¹‰è¯æ—</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>union_find ï¼ˆå¹¶æŸ¥é›†å®ä¾‹ï¼‰ï¼Œword_listï¼ˆåŒä¹‰è¯æ—æ‰€æœ‰çš„å•è¯é›†åˆï¼‰</p>
</dd>
</dl>
</dd></dl>
</dd></dl>


<dl class="py class">
<dt class="sig sig-object py" id="sk_nlp.nlp_feature_extract.tokenizer.StopWord">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">sk_nlp.nlp_feature_extract.tokenizer.</span></span><span class="sig-name descname"><span class="pre">StopWord</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">source</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">define_stop_word</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>åœç”¨è¯æ“ä½œç±»ï¼š
åœç”¨è¯æ±‡è¡¨è·¯å¾„å­˜æ”¾åœ¨ sk-nlp/data/stopword</p>
<dl class="py method">
<dt class="sig sig-object py" id="sk_nlp.nlp_feature_extract.tokenizer.StopWord.load_stop_word">
<span class="sig-name descname"><span class="pre">load_stop_word</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
<dd><p>æ ¹æ®ä¸åŒçš„self.sourceåŠ è½½ä¸åŒçš„åœç”¨è¯è¡¨</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>stop_word_list åœç”¨è¯åˆ—è¡¨</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sk_nlp.nlp_feature_extract.tokenizer.StopWord.merge_stop_word">
<span class="sig-name descname"><span class="pre">merge_stop_word</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">define_stop_word</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>å°†ç”¨æˆ·è‡ªå®šä¹‰çš„åœç”¨è¯å’Œç”¨æˆ·æŒ‡å®šçš„é€šç”¨è¯åº“åˆå¹¶æˆä¸€ä¸ªlist</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>define_stop_word</strong> â€“ ç”¨æˆ·ç»™çš„è‡ªå®šä¹‰åœç”¨è¯åˆ—è¡¨ list</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>stop_word_list åœç”¨è¯åˆ—è¡¨</p>
</dd>
</dl>
</dd></dl>
</dd></dl></div>



<div class="section" id="sk-nlp-nlp-feature-embedding-package">
<h1>sk_nlp.nlp_feature_embedding package</h1>
</div>

<div class="section" id="module-sk_nlp.nlp_feature_embedding.bert">
<span id="sk-nlp-nlp-feature-embedding-bert-module"></span><h2>sk_nlp.nlp_feature_embedding.bert module</h2>
<p>bertåŸºæœ¬æ¨¡å‹åŠ è½½</p>

<dl class="py function">
<dt class="sig sig-object py" id="sk_nlp.nlp_feature_embedding.bert.encoder">
<span class="sig-prename descclassname"><span class="pre">sk_nlp.nlp_feature_embedding.bert.</span></span><span class="sig-name descname"><span class="pre">encoder</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dict_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'/machinelearn/wzh/sk_nlp/sk_nlp/model/bert/chinese_L-12_H-768_A-12/vocab.txt'</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>ä½¿ç”¨å¥å‘é‡æ¨¡å‹ï¼Œå°†å¥å­è½¬ç æˆå¥å‘é‡</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>model</strong> â€“ æ¨¡å‹</p></li>
<li><p><strong>data_list</strong> â€“ å¥å­åˆ—è¡¨ï¼ˆæ²¡æœ‰åˆ†è¯ï¼‰</p></li>
<li><p><strong>dict_path</strong> â€“ bertæ¨¡å‹è¯æ±‡è¡¨</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>data_listä¸­çš„æ¯ä¸ªå¥å­å¯¹åº”çš„å¥å‘é‡åˆ—è¡¨</p>
</dd>
</dl>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">origin_model</span> <span class="o">=</span> <span class="n">load_bert_model</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">new_model</span> <span class="o">=</span> <span class="n">build_model_feature</span><span class="p">(</span><span class="n">origin_model</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">question_list</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;æˆ‘çˆ±è¿™ä¸ªä¼Ÿå¤§çš„ä¸–ç•Œ&quot;</span><span class="p">,</span> <span class="s2">&quot;æ¬£èµä¸–ç•Œçš„é£æ™¯&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sen_vector_lists</span> <span class="o">=</span> <span class="n">encoder</span><span class="p">(</span><span class="n">new_model</span><span class="p">,</span> <span class="n">question_list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">sen_vector_lists</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sk_nlp.nlp_feature_embedding.bert.load_bert_model">
<span class="sig-prename descclassname"><span class="pre">sk_nlp.nlp_feature_embedding.bert.</span></span><span class="sig-name descname"><span class="pre">load_bert_model</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">with_mlm</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">with_pool</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_keras_model</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">config_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'/machinelearn/wzh/sk_nlp/sk_nlp/model/bert/chinese_L-12_H-768_A-12/bert_config.json'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">checkpoint_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'/machinelearn/wzh/sk_nlp/sk_nlp/model/bert/chinese_L-12_H-768_A-12/bert_model.ckpt'</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>åŠ è½½bert æ¨¡å‹</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>with_mlm</strong> â€“ æ˜¯å¦æ­£åˆ™åŒ–</p></li>
<li><p><strong>with_pool</strong> â€“ æ˜¯å¦æ± åŒ–</p></li>
<li><p><strong>return_keras_model</strong> â€“ è¿”å›çš„æ˜¯keras model è¿˜æ˜¯ tensorflow æ¨¡å‹</p></li>
<li><p><strong>config_path</strong> â€“ bert æ¨¡å‹é…ç½®æ–‡ä»¶è·¯å¾„</p></li>
<li><p><strong>checkpoint_path</strong> â€“ bert æ¨¡å‹è·¯å¾„</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>
</div>



<div class="section" id="module-sk_nlp.nlp_feature_embedding.similarity">
<span id="sk-nlp-nlp-feature-embedding-similarity-module"></span><h2>sk_nlp.nlp_feature_embedding.similarity module</h2>
<p>è®¡ç®—å„ç§è·ç¦»</p>
<dl class="py function">
<dt class="sig sig-object py" id="sk_nlp.nlp_feature_embedding.similarity.get_distance_sim_matrix">
<span class="sig-prename descclassname"><span class="pre">sk_nlp.nlp_feature_embedding.similarity.</span></span><span class="sig-name descname"><span class="pre">get_distance_sim_matrix</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">matrix1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">matrix2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metric</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'cosine'</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>è¿”å›2ä¸ªçŸ©é˜µçš„å„ç§è·ç¦»å’Œç›¸ä¼¼åº¦</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>matrix1</strong> â€“ å¥å­å‘é‡1</p></li>
<li><p><strong>matrix2</strong> â€“ å¥å­å‘é‡2</p></li>
<li><p><strong>metric</strong> â€“ â€˜braycurtisâ€™, â€˜canberraâ€™, â€˜chebyshevâ€™, â€˜cityblockâ€™, â€˜correlationâ€™,</p></li>
</ul>
</dd>
</dl>
<p>â€˜cosineâ€™, â€˜diceâ€™, â€˜euclideanâ€™, â€˜hammingâ€™, â€˜jaccardâ€™, â€˜jensenshannonâ€™,
â€˜kulsinskiâ€™, â€˜mahalanobisâ€™, â€˜matchingâ€™, â€˜minkowskiâ€™, â€˜rogerstanimotoâ€™,
â€˜russellraoâ€™, â€˜seuclideanâ€™, â€˜sokalmichenerâ€™, â€˜sokalsneathâ€™, â€˜sqeuclideanâ€™,
â€˜wminkowskiâ€™, â€˜yuleâ€™
:return:</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sk_nlp.nlp_feature_embedding.similarity.get_edit_distance">
<span class="sig-prename descclassname"><span class="pre">sk_nlp.nlp_feature_embedding.similarity.</span></span><span class="sig-name descname"><span class="pre">get_edit_distance</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">query_sen_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">candidate_sen_list</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>è®¡ç®—ç¼–è¾‘è·ç¦»</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>query_sen_list</strong> â€“ å¦‚[â€˜æˆ‘çˆ±ä¸­å›½â€™, â€˜ç¾å›½æ€»ç»Ÿç‰¹æœ—æ™®â€™]</p></li>
<li><p><strong>candidate_sen_list</strong> â€“ å¦‚[â€˜æˆ‘çˆ±åœ°çƒâ€™, â€˜ç¾å›½æ€»ç»Ÿæ‹œç™»â€™]</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sk_nlp.nlp_feature_embedding.similarity.get_edit_similarity">
<span class="sig-prename descclassname"><span class="pre">sk_nlp.nlp_feature_embedding.similarity.</span></span><span class="sig-name descname"><span class="pre">get_edit_similarity</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">distance_matrix</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">norm</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>å…ˆåè½¬ç¼–è¾‘è·ç¦»çŸ©é˜µï¼Œå¾—åˆ°ç¼–è¾‘ç›¸ä¼¼åº¦çŸ©é˜µï¼Œç„¶åå¯ä»¥é€‰æ‹©å½’ä¸€åŒ–</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>distance_matrix</strong> â€“ è·ç¦»çŸ©é˜µ</p></li>
<li><p><strong>norm</strong> â€“ True/False</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sk_nlp.nlp_feature_embedding.similarity.get_jaccard_sim">
<span class="sig-prename descclassname"><span class="pre">sk_nlp.nlp_feature_embedding.similarity.</span></span><span class="sig-name descname"><span class="pre">get_jaccard_sim</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sen_list1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sen_list2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">norm</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>è·å¾—æ°å¡å¾·ç›¸ä¼¼åº¦</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sen_list1</strong> â€“ [[â€˜æˆ‘â€™, â€˜çˆ±â€™,â€™ä¸­å›½â€™], [â€˜ç¾å›½â€™, â€˜æ€»ç»Ÿâ€™, â€˜ç‰¹æœ—æ™®â€™]]</p></li>
<li><p><strong>sen_list2</strong> â€“ [[â€˜æˆ‘â€™, â€˜çˆ±â€™,â€™åœ°çƒâ€™], [â€˜ç¾å›½â€™, â€˜æ€»ç»Ÿâ€™, â€˜æ‹œç™»â€™]]</p></li>
</ul>
</dd>
</dl>
<p>:param norm:æ˜¯å¦å¯¹ç»“æœè¿›è¡Œå½’ä¸€åŒ–
:return:</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sk_nlp.nlp_feature_embedding.similarity.match_topk">
<span class="sig-prename descclassname"><span class="pre">sk_nlp.nlp_feature_embedding.similarity.</span></span><span class="sig-name descname"><span class="pre">match_topk</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sim_matrix</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">topk</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">order</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>è¿”å›ç›¸ä¼¼åº¦çŸ©é˜µå‰topk/æˆ–è€…åtopk</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sim_matrix</strong> â€“ </p></li>
<li><p><strong>topk</strong> â€“ </p></li>
<li><p><strong>order</strong> â€“ </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sk_nlp.nlp_feature_embedding.similarity.normalization">
<span class="sig-prename descclassname"><span class="pre">sk_nlp.nlp_feature_embedding.similarity.</span></span><span class="sig-name descname"><span class="pre">normalization</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">matrix</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reversed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>å½’ä¸€åŒ–çŸ©é˜µï¼ŒæŒ‰ç…§æœ€åä¸€ä¸ªç»´åº¦</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>matrix</strong> â€“ </p></li>
<li><p><strong>reversed</strong> â€“ </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>

</div>

<div class="section" id="module-sk_nlp.nlp_feature_embedding.w2v">
<span id="sk-nlp-nlp-feature-embedding-w2v-module"></span><h2>sk_nlp.nlp_feature_embedding.w2v module</h2>
<p>ä¼ ç»Ÿçš„w2væ¨¡å‹:åŒ…å«skip-gramå’Œcbow
ç›®å‰æœ‰ä¸€ä¸ªä»wikiè¯­æ–™è®­ç»ƒå‡ºæ¥çš„100ç»´åº¦çš„skip-gramæ¨¡å‹</p>
<dl class="py class">
<dt class="sig sig-object py" id="sk_nlp.nlp_feature_embedding.w2v.WordEmbedding">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">sk_nlp.nlp_feature_embedding.w2v.</span></span><span class="sig-name descname"><span class="pre">WordEmbedding</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model_file_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'/machinelearn/wzh/sk_nlp/sk_nlp/model/w2v/skip_gram_wiki2Vec.h5'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">embedding_dim</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">100</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="sk_nlp.nlp_feature_embedding.w2v.WordEmbedding.fine_tune">
<span class="sig-name descname"><span class="pre">fine_tune</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">new_seg_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_file_path</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>åŸºäºå·²æœ‰çš„w2væ¨¡å‹ï¼Œä½¿ç”¨å…¶ä»–è¯­æ–™è¿›è¡Œå¾®è°ƒã€‚ç„¶åä¿å­˜æ¨¡å‹è·¯å¾„ã€‚</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>new_seg_list</strong> â€“ æ–°å¥å­ï¼ˆåˆ†è¯åï¼‰</p></li>
<li><p><strong>model_file_path</strong> â€“ æ¨¡å‹çš„ä¿å­˜è·¯å¾„</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
</dl>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">model</span> <span class="o">=</span> <span class="n">WordEmbedding</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">get_embedding</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">new_seg_list</span> <span class="o">=</span> <span class="p">[[</span><span class="s1">&#39;æˆ‘&#39;</span><span class="p">,</span> <span class="s1">&#39;çˆ±&#39;</span><span class="p">,</span><span class="s1">&#39;ä¸­å›½&#39;</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;ç¾å›½&#39;</span><span class="p">,</span> <span class="s1">&#39;æ€»ç»Ÿ&#39;</span><span class="p">,</span> <span class="s1">&#39;ç‰¹æœ—æ™®&#39;</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">fine_tune</span><span class="p">(</span><span class="n">new_seg_list</span><span class="p">,</span> <span class="n">file_conf</span><span class="o">.</span><span class="n">ft_wiki_sg_file_path</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sk_nlp.nlp_feature_embedding.w2v.WordEmbedding.train_vec">
<span class="sig-name descname"><span class="pre">train_vec</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sentence_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_file_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">window</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_count</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>ä½¿ç”¨w2vè®­ç»ƒè¯å‘é‡</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sentence_list</strong> â€“ å¥å­åˆ—è¡¨ï¼Œ[[â€˜æˆ‘â€™, â€˜çˆ±â€™,â€™ä¸­å›½â€™], [â€˜ç¾å›½â€™, â€˜æ€»ç»Ÿâ€™, â€˜ç‰¹æœ—æ™®â€™]]</p></li>
<li><p><strong>model_file_path</strong> â€“ æ¨¡å‹ä¿å­˜è·¯å¾„</p></li>
<li><p><strong>window</strong> â€“ æ»‘åŠ¨çª—å£</p></li>
<li><p><strong>min_count</strong> â€“ æœ€å°è¯é¢‘</p></li>
<li><p><strong>sg</strong> â€“ 0æ˜¯ä½¿ç”¨cbow, 1æ˜¯ä½¿ç”¨è·³å­—æ¨¡å‹</p></li>
</ul>
</dd>
</dl>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl></div></div>

More Resources
--------------

-   [where is bert pre-train model]  https://github.com/google-research/bert
-   [where is stopwords corpus]  https://github.com/goto456/stopwords
-   [Official Python Packaging User Guide](https://packaging.python.org)
-   [The Hitchhiker's Guide to Packaging]

License
-------

This is free and unencumbered software released into the public domain.
Anyone is free to copy, modify, publish, use, compile, sell, or
distribute this software, either in source code form or as a compiled
binary, for any purpose, commercial or non-commercial, and by any means.



