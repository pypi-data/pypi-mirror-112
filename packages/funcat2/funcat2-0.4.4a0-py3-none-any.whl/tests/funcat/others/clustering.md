[投资组合优化理论](https://blog.csdn.net/matr_ix_laboratory/article/details/50738917)
------------

股票聚类的基本原因就是从股市中选取一部股票进行投资。哪怕是上证50对一般的投资模型来说50条股票也太多了。  
按照投资组合优化理论选取标准为：  
（1）资产数越多越好  
（2）资产之间相关系数越低越好

以期望收益E来衡量证券收益，以收益的方差$δ^2$表示投资风险  
　　$min δ^2(r_p)= \sum { \sum {w_i w_j cov(r_i,r_j) }} $

　$E(r_p)=\sum {w_i r_i }$　

　　式中：  
　　$r_p$——组合收益；

　　$r_i、r_j$——第i种、第j种资产的收益；

　　$w_i、w_j$——资产i和资产j在组合中的权重；

　　$δ^2(r_p)$——组合收益的方差即组合的总体风险；

　　$cov(r,r_j)$——两种资产之间的协方差。  
举个极端的例子：（以后再详细说吧，搞一个简单的例子）  
有n个不相关的资产，其收益率都是r，风险都是v，优化后的投资比例应该是均分（还用优化吗……）  
那资产组合的  
收益：$R = r$  
风险：$V = v/n$

1.2 聚类
------

聚类定义就不说了，经过对股票交易数据聚类后，可以将其分为几个类别，然后从每个类别中选一个样本，最后组成的样本可使样本之间的相关系数降至最低。  
这样保证在一定的风险下使收益更高。  
这里采用sklearn中affinity\_propagation算法进行聚类。
