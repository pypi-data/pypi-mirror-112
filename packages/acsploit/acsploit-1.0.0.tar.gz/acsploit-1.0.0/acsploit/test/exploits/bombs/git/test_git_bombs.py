from exploits.bombs.git import git_bombs
from test.exploits.dummy_output import DummyOutput


def test_git_bombs():
    depths = range(10, 51, 10)

    for d in depths:
        output = DummyOutput()
        git_bombs.options['depth'] = d
        git_bombs.run(output)
        assert len(output) == 1
