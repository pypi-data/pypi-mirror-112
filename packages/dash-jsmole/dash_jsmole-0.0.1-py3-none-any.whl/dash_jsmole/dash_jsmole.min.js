window.dash_jsmole=function(t){var e={};function o(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,o),r.l=!0,r.exports}return o.m=t,o.c=e,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(n,r,function(e){return t[e]}.bind(null,r));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="",o(o.s=2)}([function(t,e){t.exports=window.PropTypes},function(t,e){t.exports=window.React},function(t,e,o){"use strict";o.r(e),o.d(e,"DashJsmole",(function(){return O}));var n=o(1),r=o.n(n),i=o(0),s=o.n(i);function a(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function p(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function d(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?u(t):e}function f(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var o,n=c(t);if(e){var r=c(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return d(this,o)}}var m=!1,h={};var b=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(s,t);var e,o,n,i=f(s);function s(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),p(u(e=i.call(this,t)),"handleJsmeLoad",(function(){e.jsmeApplet=new window.JSApplet.JSME(e.id,e.props.width,e.props.height,{options:e.props.options}),e.jsmeApplet.setCallBack("AfterStructureModified",e.handleChange),e.jsmeApplet.setCallBack("AtomHighlight",e.atomHover),e.jsmeApplet.setCallBack("BondHighlight",e.bondHover),e.jsmeApplet.setCallBack("AtomClicked",e.atomClick),e.jsmeApplet.setCallBack("BondClicked",e.bondClick),e.props.smiles.string&&e.jsmeApplet.readGenericMolecularInput(e.props.smiles.string,!0),e.props.actionCode&&e.jsmeApplet.setAction(parseInt(e.props.actionCode))})),p(u(e),"atomHover",(function(t){e.props.atomHover&&e.props.atomHover(t.atom)})),p(u(e),"atomClick",(function(t){e.props.atomClick&&e.props.atomClick(t.atom)})),p(u(e),"atomsMark",(function(t){e.jsmeApplet.resetAtomColors(0),e.jsmeApplet.setAtomBackgroundColors(0,t)})),p(u(e),"bondHover",(function(t){e.props.bondHover&&e.props.bondHover(t.bond)})),p(u(e),"bondClick",(function(t){e.props.bondClick&&e.props.bondClick(t.bond)})),p(u(e),"bondsMark",(function(t){e.jsmeApplet.resetBondColors(0),e.jsmeApplet.setBondBackgroundColors(0,t)})),p(u(e),"updateMolecule",(function(t){e.jsmeApplet.readGenericMolecularInput(t,!0)})),p(u(e),"handleChange",(function(t){if(e.load&&"readSMILES"==t.action&&(e.load=!1,e.props.atomsMark.string&&e.atomsMark(e.props.atomsMark.string),e.props.bondsMark.string&&e.bondsMark(e.props.bondsMark.string)),e.props.jmeEvent){var o={action:t.action,atom:t.atom,color:t.atomBackgroundColorIndex,bond:t.bond,bondColor:0,molecule:t.molecule,origin:t.origin,totalBonds:e.jsmeApplet.totalNumberOfBonds(),totalAtoms:e.jsmeApplet.totalNumberOfAtoms()};t.src.g.b.p&&parseInt(t.bond)>0&&"markBond"==t.action&&(o.bondColor=t.src.g.b.p.c[t.bond].x[0]),e.props.jmeEvent(o)}e.props.onChange&&e.props.onChange(t.src.smiles())})),e.myRef=r.a.createRef(),e.id="jsme".concat(e.props.id),e.load=!0,e}return e=s,(o=[{key:"componentDidMount",value:function(){m?this.handleJsmeLoad():(window.jsmeOnLoad||function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"https://unpkg.com/jsme-editor/jsme.nocache.js",e=document.createElement("script");e.src=t,document.head.appendChild(e),window.jsmeOnLoad=function(){Object.values(h).forEach((function(t){return t()})),m=!0}}(this.props.src),h[this.id]=this.handleJsmeLoad)}},{key:"componentWillUnmount",value:function(){h[this.id]=void 0}},{key:"componentDidUpdate",value:function(t){void 0!==this.jsmeApplet&&null!==this.jsmeApplet&&(this.props.height===t.height&&this.props.width===t.width||this.jsmeApplet.setSize(this.props.width,this.props.height),this.props.options!==t.options&&this.jsmeApplet.options({options:this.props.options}),this.props.smiles!==t.smiles&&this.jsmeApplet.readGenericMolecularInput(this.props.smiles.string,!0),this.props.lineWidth!==t.lineWidth&&this.jsmeApplet.setMolecularAreaLineWidth(this.props.lineWidth),this.props.atomsMark!=t.atomsMark&&this.atomsMark(this.props.atomsMark.string),this.props.bondsMark!=t.bondsMark&&this.bondsMark(this.props.bondsMark.string),this.props.actionCode!=t.actionCode&&null!==this.props.actionCode&&this.jsmeApplet.setAction(parseInt(this.props.actionCode)))}},{key:"render",value:function(){return r.a.createElement("div",{ref:this.myRef,id:this.id})}}])&&a(e.prototype,o),n&&a(e,n),s}(r.a.PureComponent);function k(t){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function v(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function y(t,e){return(y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function g(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var o,n=C(t);if(e){var r=C(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return j(this,o)}}function j(t,e){return!e||"object"!==k(e)&&"function"!=typeof e?M(t):e}function M(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function C(t){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function w(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}b.propTypes={id:s.a.string,height:s.a.string.isRequired,width:s.a.string.isRequired,smiles:s.a.object,options:s.a.string,onChange:s.a.func,jmeEvent:s.a.func,src:s.a.string,lineWidth:s.a.number,atomHover:s.a.func,bondHover:s.a.func,atomClick:s.a.func,bondClick:s.a.func,atomsMark:s.a.object,bondsMark:s.a.object,actionCode:s.a.number};var O=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&y(t,e)}(s,t);var e,o,n,i=g(s);function s(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),w(M(e=i.call(this,t)),"ref",null),w(M(e),"smilesUpdate",(function(t){e.smiles=t,t!==e.props.smiles&&e.props.setProps({smiles:t})})),w(M(e),"jmeEvent",(function(t){e.props.setProps({jmeEvent:t})})),w(M(e),"atomClick",(function(t){e.props.setProps({atomClick:t})})),w(M(e),"bondClick",(function(t){e.props.setProps({bondClick:t})})),w(M(e),"atomHover",(function(t){e.props.setProps({atomHover:t})})),w(M(e),"bondHover",(function(t){e.props.setProps({bondHover:t})})),e.smiles=e.props.smiles,e.atomsMark=e.props.atomsMark,e.bondsMark=e.props.bondsMark,e.state={smiles:{id:0,string:e.props.smiles},atomsMark:{id:0,string:e.props.atomsMark},bondsMark:{id:0,string:e.props.bondsMark}},e}return e=s,(o=[{key:"componentDidUpdate",value:function(t){var e=this.props,o=e.smiles,n=e.atomsMark,r=e.bondsMark;if(o!=t.smiles&&o!=this.smiles){this.smiles=o;var i=this.state.smiles.id;this.setState({smiles:{id:i+1,string:o}}),this.atomsMark="",this.bondsMark=""}if(n!=this.atomsMark){this.atomsMark=n;var s=this.state.atomsMark.id;this.setState({atomsMark:{id:s+1,string:n}})}if(r!=this.bondsMark){this.bondsMark=r;var a=this.state.bondsMark.id;this.setState({bondsMark:{id:a+1,string:r}})}}},{key:"render",value:function(){var t=this,e=this.props,o=e.id,n=e.height,i=e.width,s=e.options,a=e.src,p=e.lineWidth,c=e.actionCode;return r.a.createElement("div",{id:o},r.a.createElement(b,{ref:function(e){return t.ref=e},id:o,height:n,width:i,options:s,smiles:this.state.smiles,onChange:this.smilesUpdate,atomHover:this.atomHover,atomClick:this.atomClick,bondHover:this.bondHover,bondClick:this.bondClick,jmeEvent:this.jmeEvent,src:a,lineWidth:p,atomsMark:this.state.atomsMark,bondsMark:this.state.bondsMark,actionCode:c}))}}])&&v(e.prototype,o),n&&v(e,n),s}(n.Component);O.defaultProps={smiles:"",lineWidth:1.5,atomsMark:"",bondsMark:"",height:"400px",width:"400px"},O.propTypes={id:s.a.string,height:s.a.string,width:s.a.string,options:s.a.string,smiles:s.a.string,lineWidth:s.a.number,atomHover:s.a.number,bondHover:s.a.number,atomClick:s.a.number,bondClick:s.a.number,atomsMark:s.a.string,bondsMark:s.a.string,jmeEvent:s.a.object,src:s.a.string,actionCode:s.a.number,setProps:s.a.func}}]);
//# sourceMappingURL=dash_jsmole.min.js.map