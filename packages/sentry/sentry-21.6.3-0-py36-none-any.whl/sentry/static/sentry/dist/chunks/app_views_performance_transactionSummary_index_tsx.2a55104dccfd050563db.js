(self.webpackChunk=self.webpackChunk||[]).push([["app_views_performance_transactionSummary_index_tsx"],{"./app/components/globalSdkUpdateAlert.tsx":(e,t,r)=>{"use strict";r.d(t,{Z:()=>A}),r("../node_modules/core-js/modules/es.reflect.construct.js"),r("../node_modules/core-js/modules/es.object.keys.js"),r("../node_modules/core-js/modules/es.symbol.js"),r("../node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),r("../node_modules/core-js/modules/es.array.for-each.js"),r("../node_modules/core-js/modules/web.dom-collections.for-each.js"),r("../node_modules/core-js/modules/es.object.get-own-property-descriptors.js"),r("../node_modules/core-js/modules/es.object.define-properties.js"),r("../node_modules/core-js/modules/es.object.define-property.js");var n=r("../node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),o=r("../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),s=r("../node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),a=r("../node_modules/@babel/runtime/helpers/esm/createClass.js"),i=r("../node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js"),l=r("../node_modules/@babel/runtime/helpers/esm/inherits.js"),c=r("../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),u=r("../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),d=r("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),p=r("../node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),m=r("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),h=r("../node_modules/@babel/runtime/regenerator/index.js"),f=r.n(h),g=(r("../node_modules/core-js/modules/es.array.reduce.js"),r("../node_modules/core-js/modules/es.array.concat.js"),r("../node_modules/core-js/modules/es.array.filter.js"),r("../node_modules/core-js/modules/es.array.includes.js"),r("../node_modules/core-js/modules/es.string.includes.js"),r("../node_modules/core-js/modules/es.parse-int.js"),r("../node_modules/react/index.js")),v=r("./app/actionCreators/prompts.tsx"),y=r("./app/actions/sidebarPanelActions.tsx"),j=r("./app/components/alert.tsx"),b=r("./app/constants/globalSelectionHeader.tsx"),Z=r("./app/icons/index.tsx"),w=r("./app/locale.tsx"),x=r("./app/styles/space.tsx"),_=r("./app/utils/analytics.tsx"),O=r("./app/utils/promptIsDismissed.tsx"),P=r("./app/utils/withApi.tsx"),k=r("./app/utils/withGlobalSelection.tsx"),S=r("./app/utils/withOrganization.tsx"),T=r("./app/utils/withSdkUpdates.tsx"),z=r("./app/components/sidebar/types.tsx"),C=r("./app/components/button.tsx"),V=r("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js"),D=["api","selection","sdkUpdates","organization","Wrapper"];function q(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function I(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?q(Object(r),!0).forEach((function(t){(0,d.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var E=function(e){var t=e.organization;return(0,_.ec)({eventKey:"sdk_updates.snoozed",eventName:"SDK Updates: Snoozed",organization_id:t.id})},B=function(e){(0,l.Z)(g,e);var t,r,m,h=(r=g,m=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=(0,u.Z)(r);if(m){var n=(0,u.Z)(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return(0,c.Z)(this,e)});function g(){var e;(0,s.Z)(this,g);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return e=h.call.apply(h,[this].concat(r)),(0,d.Z)((0,i.Z)(e),"state",{isDismissed:null}),(0,d.Z)((0,i.Z)(e),"snoozePrompt",(function(){var t=e.props,r=t.api,n=t.organization;(0,v.X)(r,{organizationId:n.id,feature:"sdk_updates",status:"snoozed"}),e.setState({isDismissed:!0}),E({organization:e.props.organization})})),e}return(0,a.Z)(g,[{key:"componentDidMount",value:function(){var e;this.promptsCheck(),e={organization:this.props.organization}.organization,(0,_.ec)({eventKey:"sdk_updates.seen",eventName:"SDK Updates: Seen",organization_id:e.id})}},{key:"promptsCheck",value:(t=(0,o.Z)(f().mark((function e(){var t,r,n,o;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,r=t.api,n=t.organization,e.next=3,(0,v.v)(r,{organizationId:n.id,feature:"sdk_updates"});case 3:o=e.sent,this.setState({isDismissed:(0,O.I)(o)});case 5:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"render",value:function(){var e,t=this.props,r=(t.api,t.selection),o=t.sdkUpdates,s=t.organization,a=t.Wrapper,i=(0,n.Z)(t,D),l=this.state.isDismissed;if(!o||null===l||l)return null;if(0===(e=0===(null==r?void 0:r.projects.length)||(null==r?void 0:r.projects)===[b.mP]?o:o.filter((function(e){var t;return null==r||null===(t=r.projects)||void 0===t?void 0:t.includes(parseInt(e.projectId,10))})),e.reduce((function(e,t){return[].concat((0,p.Z)(e),(0,p.Z)(t.suggestions))}),[])).length)return null;var c=(0,V.tZ)(C.ZP,{priority:"link",onClick:function(){y.Z.activatePanel(z.z.Broadcasts),function(e){var t=e.organization;(0,_.ec)({eventKey:"sdk_updates.clicked",eventName:"SDK Updates: Clicked",organization_id:t.id})}({organization:s})},children:(0,w.t)("Review updates")}),u=(0,V.tZ)(j.Z,I(I({type:"info",icon:(0,V.tZ)(Z.XK,{})},i),{},{children:(0,V.BX)(N,{children:[(0,w.t)("You have outdated SDKs in your projects. Update them for important fixes and features."),(0,V.BX)(F,{children:[(0,V.tZ)(C.ZP,{priority:"link",title:(0,w.t)("Dismiss for the next two weeks"),onClick:this.snoozePrompt,children:(0,w.t)("Remind me later")}),"|",c]})]})}));return a?(0,V.tZ)(a,{children:u}):u}}]),g}(g.Component);B.displayName="InnerGlobalSdkSuggestions";var N=(0,m.Z)("div",{target:"e13jrk6t1"})("display:flex;flex-wrap:wrap;@media (min-width: ",(function(e){return e.theme.breakpoints[0]}),"){justify-content:space-between;}"),F=(0,m.Z)("div",{target:"e13jrk6t0"})("display:grid;grid-template-columns:repeat(3, max-content);grid-gap:",(0,x.Z)(1),";");const A=(0,S.Z)((0,T.Z)((0,k.Z)((0,P.Z)(B))))},"./app/views/eventsV2/tags.tsx":(e,t,r)=>{"use strict";r.d(t,{Z:()=>D}),r("../node_modules/core-js/modules/es.reflect.construct.js");var n=r("../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),o=r("../node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),s=r("../node_modules/@babel/runtime/helpers/esm/createClass.js"),a=r("../node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js"),i=r("../node_modules/@babel/runtime/helpers/esm/inherits.js"),l=r("../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),c=r("../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),u=r("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),d=r("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),p=r("../node_modules/@babel/runtime/regenerator/index.js"),m=r.n(p),h=(r("../node_modules/core-js/modules/es.array.concat.js"),r("../node_modules/core-js/modules/es.parse-int.js"),r("../node_modules/core-js/modules/es.array.map.js"),r("../node_modules/core-js/modules/es.number.constructor.js"),r("../node_modules/react/index.js")),f=r("../node_modules/@sentry/minimal/esm/index.js"),g=r("./app/actionCreators/events.tsx"),v=r("./app/components/charts/errorPanel.tsx"),y=r("./app/components/charts/styles.tsx"),j=r("./app/components/emptyStateWarning.tsx"),b=r("./app/components/placeholder.tsx"),Z=r("./app/components/tagDistributionMeter.tsx"),w=r("./app/icons/index.tsx"),x=r("./app/locale.tsx"),_=r("./app/styles/space.tsx"),O=r("./app/utils/analytics.tsx"),P=r("./app/utils/discover/eventView.tsx"),k=r("./app/utils/withApi.tsx"),S=r("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");var T=function(e){(0,i.Z)(p,e);var t,r,d=(t=p,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=(0,c.Z)(t);if(r){var o=(0,c.Z)(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return(0,l.Z)(this,e)});function p(){var e;(0,o.Z)(this,p);for(var t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];return e=d.call.apply(d,[this].concat(r)),(0,u.Z)((0,a.Z)(e),"state",{loading:!0,tags:[],totalValues:null,error:""}),(0,u.Z)((0,a.Z)(e),"shouldRefetchData",(function(t){var r=e.props.eventView.getFacetsAPIPayload(e.props.location),n=t.eventView.getFacetsAPIPayload(t.location);return!(0,P.ze)(r,n)})),(0,u.Z)((0,a.Z)(e),"fetchData",(0,n.Z)(m().mark((function t(){var r,n,o,s,a,i,l,c,u=arguments;return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=u.length>0&&void 0!==u[0]&&u[0],n=e.props,o=n.api,s=n.organization,a=n.eventView,i=n.location,l=n.confirmedQuery,e.setState({loading:!0,error:"",tags:[]}),r||!1!==l){t.next=5;break}return t.abrupt("return");case 5:return t.prev=5,t.next=8,(0,g.eV)(o,s.slug,a.getFacetsAPIPayload(i));case 8:c=t.sent,e.setState({loading:!1,tags:c}),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(5),f.Tb(t.t0),e.setState({loading:!1,error:t.t0});case 16:case"end":return t.stop()}}),t,null,[[5,12]])})))),(0,u.Z)((0,a.Z)(e),"handleTagClick",(function(t){var r=e.props.organization;(0,O.ec)({eventKey:"discover_v2.facet_map.clicked",eventName:"Discoverv2: Clicked on a tag on the facet map",tag:t,organization_id:parseInt(r.id,10)})})),(0,u.Z)((0,a.Z)(e),"renderBody",(function(){var t=e.state,r=t.loading,n=t.error,o=t.tags;return r?e.renderPlaceholders():n?(0,S.tZ)(v.Z,{height:"132px",children:(0,S.tZ)(w.FC,{color:"gray300",size:"lg"})}):o.length>0?o.map((function(t){return e.renderTag(t)})):(0,S.tZ)(z,{small:!0,children:(0,x.t)("No tags found")})})),e}return(0,s.Z)(p,[{key:"componentDidMount",value:function(){this.fetchData(!0)}},{key:"componentDidUpdate",value:function(e){(this.shouldRefetchData(e)||e.confirmedQuery!==this.props.confirmedQuery)&&this.fetchData()}},{key:"renderTag",value:function(e){var t=this.props,r=t.generateUrl,n=t.totalValues,o=e.topValues.map((function(t){return t.url=r(e.key,t.value),t})),s=o.length>0?Math.max(Number(n),o[0].count):n;return(0,S.tZ)(Z.Z,{title:e.key,segments:o,totalValues:Number(s),renderLoading:function(){return(0,S.tZ)(C,{height:"16px"})},onTagClick:this.handleTagClick,showReleasePackage:!0},e.key)}},{key:"renderPlaceholders",value:function(){return(0,S.BX)(h.Fragment,{children:[(0,S.tZ)(V,{},"title-1"),(0,S.tZ)(C,{},"bar-1"),(0,S.tZ)(V,{},"title-2"),(0,S.tZ)(C,{},"bar-2"),(0,S.tZ)(V,{},"title-3"),(0,S.tZ)(C,{},"bar-3")]})}},{key:"render",value:function(){return(0,S.BX)(h.Fragment,{children:[(0,S.tZ)(y.OT,{children:(0,x.t)("Tag Summary")}),this.renderBody()]})}}]),p}(h.Component);T.displayName="Tags";var z=(0,d.Z)(j.Z,{target:"e1pu9veq2"})({name:"rtpdsm",styles:"height:132px;padding:54px 15%"}),C=(0,d.Z)(b.Z,{target:"e1pu9veq1"})("border-radius:",(function(e){return e.theme.borderRadius}),";height:16px;margin-bottom:",(0,_.Z)(1.5),";"),V=(0,d.Z)(b.Z,{target:"e1pu9veq0"})("width:100px;height:12px;margin-bottom:",(0,_.Z)(.5),";");const D=(0,k.Z)(T)},"./app/views/performance/transactionSummary/index.tsx":(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>bt}),r("../node_modules/core-js/modules/es.reflect.construct.js"),r("../node_modules/core-js/modules/es.symbol.js"),r("../node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),r("../node_modules/core-js/modules/es.object.get-own-property-descriptors.js"),r("../node_modules/core-js/modules/es.object.define-properties.js"),r("../node_modules/core-js/modules/es.object.define-property.js");var n=r("../node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),o=r("../node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),s=r("../node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),a=r("../node_modules/@babel/runtime/helpers/esm/createClass.js"),i=r("../node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js"),l=r("../node_modules/@babel/runtime/helpers/esm/inherits.js"),c=r("../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),u=r("../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),d=r("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),p=r("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),m=(r("../node_modules/core-js/modules/es.array.concat.js"),r("../node_modules/core-js/modules/es.parse-int.js"),r("../node_modules/core-js/modules/es.array.includes.js"),r("../node_modules/core-js/modules/es.string.includes.js"),r("../node_modules/core-js/modules/es.array.find.js"),r("../node_modules/core-js/modules/es.string.trim.js"),r("../node_modules/core-js/modules/es.array.join.js"),r("../node_modules/core-js/modules/es.date.to-string.js"),r("../node_modules/core-js/modules/es.object.to-string.js"),r("../node_modules/core-js/modules/es.regexp.to-string.js"),r("../node_modules/core-js/modules/es.array.reduce.js"),r("../node_modules/core-js/modules/es.array.map.js"),r("../node_modules/core-js/modules/es.array.for-each.js"),r("../node_modules/core-js/modules/web.dom-collections.for-each.js"),r("../node_modules/core-js/modules/es.regexp.exec.js"),r("../node_modules/core-js/modules/es.string.replace.js"),r("../node_modules/core-js/modules/es.array.filter.js"),r("../node_modules/core-js/modules/es.object.keys.js"),r("../node_modules/react/index.js")),h=r("../node_modules/react-router/es/index.js"),f=r("../node_modules/lodash/isEqual.js"),g=r.n(f),v=r("./app/actionCreators/indicator.tsx"),y=r("./app/actionCreators/tags.tsx"),j=r("./app/components/lightWeightNoProjectMessage.tsx"),b=r("./app/components/organizations/globalSelectionHeader/index.tsx"),Z=r("./app/components/sentryDocumentTitle.tsx"),w=r("./app/locale.tsx"),x=r("./app/styles/organization.tsx"),_=r("./app/utils.tsx"),O=r("./app/utils/analytics.tsx"),P=r("./app/utils/discover/discoverQuery.tsx"),k=r("./app/utils/discover/eventView.tsx"),S=r("./app/utils/discover/fields.tsx"),T=r("./app/utils/performance/histogram/index.tsx"),z=r("./app/utils/queryString.tsx"),C=r("./app/utils/tokenizeSearch.tsx"),V=r("./app/utils/withApi.tsx"),D=r("./app/utils/withGlobalSelection.tsx"),q=r("./app/utils/withOrganization.tsx"),I=r("./app/utils/withProjects.tsx"),E=r("./app/views/performance/utils.tsx"),B=r("./app/views/performance/transactionSummary/transactionVitals/constants.tsx"),N=(r("../node_modules/core-js/modules/es.array.sort.js"),r("../node_modules/core-js/modules/es.array.slice.js"),r("../node_modules/core-js/modules/es.array.some.js"),r("../node_modules/core-js/modules/es.number.is-finite.js"),r("../node_modules/core-js/modules/es.number.constructor.js"),r("../node_modules/core-js/modules/es.array.splice.js"),r("../node_modules/core-js/modules/es.number.to-fixed.js"),r("../node_modules/lodash/omit.js")),F=r.n(N),A=r("./app/components/acl/feature.tsx"),R=r("./app/components/discover/transactionsList.tsx"),L=r("./app/components/events/searchBar.tsx"),X=r("./app/components/globalSdkUpdateAlert.tsx"),M=r("./app/components/layouts/thirds.tsx"),K=r("./app/components/organizations/globalSelectionHeader/getParams.tsx"),W=r("./app/constants/index.tsx"),U=r("./app/styles/space.tsx"),$=r("./app/views/eventsV2/table/cellAction.tsx"),Q=r("./app/views/eventsV2/tags.tsx"),G=r("./app/views/performance/transactionSummary/charts.tsx"),H=r("./app/views/performance/transactionSummary/filter.tsx"),J=r("./app/views/performance/transactionSummary/header.tsx"),Y=(r("../node_modules/core-js/modules/es.array.iterator.js"),r("../node_modules/core-js/modules/es.set.js"),r("../node_modules/core-js/modules/es.string.iterator.js"),r("../node_modules/core-js/modules/web.dom-collections.iterator.js"),r("../node_modules/core-js/modules/es.object.values.js"),r("../node_modules/core-js/modules/es.string.starts-with.js"),r("../node_modules/core-js/modules/es.string.match.js"),r("../node_modules/lodash/pick.js")),ee=r.n(Y),te=r("./app/components/button.tsx"),re=r("./app/components/charts/styles.tsx"),ne=r("./app/components/emptyStateWarning.tsx"),oe=r("./app/components/issues/groupList.tsx"),se=r("./app/components/panels/index.tsx"),ae=r("./app/constants/globalSelectionHeader.tsx"),ie=r("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function le(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ce(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?le(Object(r),!0).forEach((function(t){(0,d.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):le(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ue=new Set(["event.type","project"]),de=function(e){(0,l.Z)(p,e);var t,r,o=(t=p,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=(0,u.Z)(t);if(r){var o=(0,u.Z)(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return(0,c.Z)(this,e)});function p(){var e;(0,s.Z)(this,p);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return e=o.call.apply(o,[this].concat(r)),(0,d.Z)((0,i.Z)(e),"handleOpenClick",(function(){var t=e.props.organization;(0,O.ec)({eventKey:"performance_views.summary.open_issues",eventName:"Performance Views: Open issues from transaction summary",organization_id:parseInt(t.id,10)})})),(0,d.Z)((0,i.Z)(e),"renderEmptyMessage",(function(){var t=e.props.statsPeriod,r=t&&W.wh[t],n=r?r.toLowerCase():(0,w.t)("given timeframe");return(0,ie.tZ)(se.s_,{children:(0,ie.tZ)(se.N,{children:(0,ie.tZ)(ne.Z,{children:(0,ie.tZ)("p",{children:(0,w._N)("No new issues for this transaction for the [timePeriod].",{timePeriod:n})})})})})})),e}return(0,a.Z)(p,[{key:"getIssuesEndpoint",value:function(){var e=this.props,t=e.transaction,r=e.organization,o=e.start,s=e.end,a=e.statsPeriod,i=e.location,l=ce({start:o,end:s,statsPeriod:a,limit:5,sort:"new"},ee()(i.query,[].concat((0,n.Z)(Object.values(ae.nF)),["cursor"]))),c=(0,C.aI)((0,z.ro)(i.query.query,""));return c.getTagKeys().forEach((function(e){var t=e.startsWith("!")?e.substr(1):e;(t.match(/\w+\(.*\)/)||S.J8.includes(t)||ue.has(t))&&c.removeTag(e)})),c.addQuery("is:unresolved").setTagValues("transaction",[t]),{path:"/organizations/".concat(r.slug,"/issues/"),queryParams:ce(ce({},l),{},{query:c.formatString()})}}},{key:"render",value:function(){var e=this.props.organization,t=this.getIssuesEndpoint(),r=t.path,n=t.queryParams,o={pathname:"/organizations/".concat(e.slug,"/issues/"),query:n};return(0,ie.BX)(m.Fragment,{children:[(0,ie.BX)(pe,{children:[(0,ie.tZ)(re.OT,{children:(0,w.t)("Related Issues")}),(0,ie.tZ)(te.ZP,{"data-test-id":"issues-open",size:"small",to:o,onClick:this.handleOpenClick,children:(0,w.t)("Open in Issues")})]}),(0,ie.tZ)(me,{children:(0,ie.tZ)(oe.Z,{orgId:e.slug,endpointPath:r,queryParams:n,query:"",canSelectGroups:!1,renderEmptyMessage:this.renderEmptyMessage,withChart:!1,withPagination:!1})})]})}}]),p}(m.Component);de.displayName="RelatedIssues";var pe=(0,p.Z)("div",{target:"epdyig71"})("display:flex;align-items:center;justify-content:space-between;margin-bottom:",(0,U.Z)(1),";"),me=(0,p.Z)("div",{target:"epdyig70"})("margin-bottom:",(0,U.Z)(4),";",se.s_,"{margin-bottom:-",(0,U.Z)(1),";}");const he=de;r("../node_modules/core-js/modules/es.array.from.js");var fe=r("../node_modules/@emotion/react/dist/emotion-element-a8309070.browser.esm.js"),ge=r("./app/components/charts/chartZoom.tsx"),ve=r("./app/components/charts/errorPanel.tsx"),ye=r("./app/components/charts/eventsRequest.tsx"),je=r("./app/components/charts/lineChart.tsx"),be=r("./app/components/charts/transitionChart.tsx"),Ze=r("./app/components/charts/transparentLoadingMask.tsx"),we=r("./app/components/charts/utils.tsx"),xe=r("./app/components/placeholder.tsx"),_e=r("./app/components/questionTooltip.tsx"),Oe=r("./app/icons/index.tsx"),Pe=r("./app/utils/dates.tsx"),ke=r("./app/utils/discover/charts.tsx"),Se=r("./app/utils/formatters.tsx"),Te=r("./app/views/performance/data.tsx");function ze(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ce(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ze(Object(r),!0).forEach((function(t){(0,d.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ze(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ve(e){var t,r,n,o=e.theme,s=e.api,a=e.location,i=e.eventView,l=e.organization,c=e.router,u=e.isLoading,d=e.error,p=e.totals,m=i.statsPeriod,h=i.start?(0,Pe.hC)(i.start):void 0,f=i.end?(0,Pe.hC)(i.end):void 0,g=(0,K.Q)(a.query).utc,v=o.charts.getColorPalette(3),y={scale:!0,axisLine:{show:!1},axisTick:{show:!1},splitLine:{show:!1}},j={height:480,grid:[{top:"60px",left:"10px",right:"10px",height:"100px"},{top:"220px",left:"10px",right:"10px",height:"100px"},{top:"380px",left:"10px",right:"10px",height:"120px"}],axisPointer:{link:[{xAxisIndex:[0,1,2]}]},xAxes:Array.from(new Array(3)).map((function(e,t){return{gridIndex:t,type:"time",show:!1}})),yAxes:[Ce({gridIndex:0,interval:.2,axisLabel:{formatter:function(e){return(0,Se.$1)(e,1)},color:o.chartLabel}},y),Ce({gridIndex:1,splitNumber:4,interval:.5,max:1,axisLabel:{formatter:function(e){return(0,Se.rl)(e,0)},color:o.chartLabel}},y),Ce({gridIndex:2,splitNumber:4,axisLabel:{formatter:Se.Du,color:o.chartLabel}},y)],utc:"true"===g,isGroupedByDate:!0,showTimeInTooltip:!0,colors:[v[0],v[1],v[2]],tooltip:{trigger:"axis",truncate:80,valueFormatter:ke.CX,nameFormatter:function(e){return"epm()"===e?"tpm()":e}}},b={start:h||null,end:f||null,period:m},Z=i.project,x=i.environment,_=l.apdexThreshold;return l.features.includes("project-transaction-threshold")?(t="apdex",n=Te.V$.APDEX_NEW,r="apdex()"):(t="apdex_".concat(_),n=Te.V$.APDEX,r="apdex(".concat(l.apdexThreshold,")")),(0,ie.BX)(qe,{children:[(0,ie.BX)(Ee,{top:"0px",children:[(0,ie.BX)(Ie,{children:[(0,w.t)("Apdex"),(0,ie.tZ)(_e.Z,{position:"top",title:(0,Te.$r)(l,n),size:"sm"})]}),(0,ie.tZ)(De,{isLoading:u,error:d,value:p?(0,Se.$1)(p[t],4):null})]}),(0,ie.BX)(Ee,{top:"160px",children:[(0,ie.BX)(Ie,{children:[(0,w.t)("Failure Rate"),(0,ie.tZ)(_e.Z,{position:"top",title:(0,Te.$r)(l,Te.V$.FAILURE_RATE),size:"sm"})]}),(0,ie.tZ)(De,{isLoading:u,error:d,value:p?(0,Se.rl)(p.failure_rate):null})]}),(0,ie.BX)(Ee,{top:"320px",children:[(0,ie.BX)(Ie,{children:[(0,w.t)("TPM"),(0,ie.tZ)(_e.Z,{position:"top",title:(0,Te.$r)(l,Te.V$.TPM),size:"sm"})]}),(0,ie.tZ)(De,{isLoading:u,error:d,value:p?(0,w._N)("[tpm] tpm",{tpm:(0,Se.$1)(p.tpm,4)}):null})]}),(0,ie.tZ)(ge.Z,{router:c,period:m,start:h,end:f,utc:"true"===g,xAxisIndex:[0,1,2],children:function(e){return(0,ie.tZ)(ye.Z,{api:s,organization:l,period:m,project:Z,environment:x,start:h,end:f,interval:(0,we.ZS)(b),showLoading:!1,query:i.query,includePrevious:!1,yAxis:[r,"failure_rate()","epm()"],partial:!0,children:function(t){var r=t.results,n=t.errored,o=t.loading,s=t.reloading;if(n)return(0,ie.tZ)(ve.Z,{height:"580px",children:(0,ie.tZ)(Oe.FC,{color:"gray300",size:"lg"})});var a=r?r.map((function(e,t){return Ce(Ce({},e),{},{yAxisIndex:t,xAxisIndex:t})})):[];return(0,ie.BX)(be.Z,{loading:o,reloading:s,height:"580px",children:[(0,ie.tZ)(Ze.Z,{visible:s}),(0,ie.tZ)(je.Z,Ce(Ce(Ce({},e),j),{},{series:a}))]})}})}})]})}function De(e){var t=e.error,r=e.isLoading,n=e.value;return t?(0,ie.tZ)("div",{children:"—"}):r?(0,ie.tZ)(xe.Z,{height:"24px"}):(0,ie.tZ)(Be,{children:n})}Ve.displayName="SidebarCharts";var qe=(0,p.Z)("div",{target:"e9e62cr3"})({name:"bjn8wh",styles:"position:relative"}),Ie=(0,p.Z)(re.OT,{target:"e9e62cr2"})({name:"ti75j2",styles:"margin:0"}),Ee=(0,p.Z)("div",{target:"e9e62cr1"})("position:absolute;top:",(function(e){return e.top}),";z-index:1;"),Be=(0,p.Z)("div",{target:"e9e62cr0"})("font-size:",(function(e){return e.theme.fontSizeExtraLarge}),";");const Ne=(0,V.Z)((0,fe.b)(h.withRouter(Ve)));function Fe(e){var t=e.data,r=t.reduce((function(e,t){return t.value+e}),0);return(0,ie.tZ)(Re,{children:t.map((function(e,t){return(0,ie.BX)(m.Fragment,{children:[(0,ie.tZ)(Le,{children:(0,Se.rl)(e.value/r,0)}),(0,ie.BX)(Xe,{"data-test-id":"status-".concat(e.label),cursor:e.onClick?"pointer":"default",onClick:e.onClick,children:[(0,ie.tZ)(Ke,{style:{width:"".concat((e.value/r*100).toFixed(2),"%")}}),(0,ie.tZ)(Me,{children:e.label})]})]},"".concat(t,":").concat(e.label))}))})}Fe.displayName="BreakdownBars";const Ae=Fe;var Re=(0,p.Z)("div",{target:"e1yzi37b4"})("display:grid;grid-template-columns:min-content auto;column-gap:",(0,U.Z)(1),";row-gap:",(0,U.Z)(1),";"),Le=(0,p.Z)("div",{target:"e1yzi37b3"})("font-size:",(function(e){return e.theme.fontSizeExtraLarge}),";text-align:right;"),Xe=(0,p.Z)("div",{target:"e1yzi37b2"})("padding-left:",(0,U.Z)(1),";padding-right:",(0,U.Z)(1),";position:relative;cursor:",(function(e){return e.cursor}),";"),Me=(0,p.Z)("span",{target:"e1yzi37b1"})("position:relative;color:",(function(e){return e.theme.textColor}),";z-index:2;font-size:",(function(e){return e.theme.fontSizeSmall}),";"),Ke=(0,p.Z)("div",{target:"e1yzi37b0"})("border-radius:2px;background-color:",(function(e){return e.theme.border}),";position:absolute;top:0;left:0;z-index:1;height:100%;width:0%;");function We(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ue(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?We(Object(r),!0).forEach((function(t){(0,d.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):We(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function $e(e){var t=e.eventView,r=e.location,n=e.organization,o=t.withColumns([{kind:"function",function:["count","","",void 0]},{kind:"field",field:"transaction.status"}]).withSorts([{kind:"desc",field:"count"}]);return(0,ie.BX)(m.Fragment,{children:[(0,ie.BX)(re.OT,{children:[(0,w.t)("Status Breakdown"),(0,ie.tZ)(_e.Z,{position:"top",title:(0,Te.$r)(n,Te.V$.STATUS_BREAKDOWN),size:"sm"})]}),(0,ie.tZ)(P.Z,{eventView:o,location:r,orgSlug:n.slug,referrer:"api.performance.status-breakdown",children:function(e){var n=e.isLoading,o=e.error,s=e.tableData;if(n)return(0,ie.tZ)(xe.Z,{height:"124px"});if(o)return(0,ie.tZ)(ve.Z,{height:"124px",children:(0,ie.tZ)(Oe.FC,{color:"gray300",size:"lg"})});if(!s||0===s.data.length)return(0,ie.tZ)(Qe,{small:!0,children:(0,w.t)("No statuses found")});var a=s.data.map((function(e){return{label:String(e["transaction.status"]),value:parseInt(String(e.count),10),onClick:function(){var n=(0,C.aI)(t.query);n.removeTag("!transaction.status").setTagValues("transaction.status",[e["transaction.status"]]),h.browserHistory.push({pathname:r.pathname,query:Ue(Ue({},r.query),{},{cursor:void 0,query:n.formatString()})})}}}));return(0,ie.tZ)(Ae,{data:a})}})]})}$e.displayName="StatusBreakdown";var Qe=(0,p.Z)(ne.Z,{target:"elqhyan0"})({name:"wwhhbg",styles:"height:124px;padding:50px 15%"});const Ge=$e;var He=r("./app/views/performance/transactionSummary/tagExplorer.tsx"),Je=r("./app/components/links/link.tsx"),Ye=r("./app/components/userMisery.tsx"),et=r("./app/views/performance/transactionSummary/transactionVitals/utils.tsx"),tt=r("./app/views/performance/transactionSummary/utils.tsx"),rt=r("./app/views/performance/vitalDetail/vitalInfo.tsx");function nt(e){var t=e.eventView,r=e.isLoading,n=e.hasWebVitals,o=e.error,s=e.totals,a=e.location,i=e.organization,l=e.transactionName,c=null!==o?(0,ie.tZ)("div",{children:"—"}):(0,ie.tZ)(xe.Z,{height:"34px"});if(!r&&null===o&&s){var u,d,p;i.features.includes("project-transaction-threshold")?(d=s.project_threshold_config[1],u=s.count_miserable_user,p=s.user_misery):(d=i.apdexThreshold,u=s["count_miserable_user_".concat(d)],p=s["user_misery_".concat(d)]);var h=s.count_unique_user;c=(0,ie.tZ)(Ye.Z,{bars:40,barHeight:30,userMisery:p,miseryLimit:d,totalUsers:h,miserableUsers:u})}var f=(0,et.Pl)({orgSlug:i.slug,transaction:l,projectID:(0,z.ro)(a.query.project),query:a.query});return(0,ie.BX)(m.Fragment,{children:[n&&(0,ie.BX)(m.Fragment,{children:[(0,ie.BX)(ot,{children:[(0,ie.BX)(re.OT,{children:[(0,w.t)("Web Vitals"),(0,ie.tZ)(_e.Z,{position:"top",title:(0,w.t)('Web Vitals with p75 better than the "poor" threshold, as defined by Google Web Vitals.'),size:"sm"})]}),(0,ie.tZ)(Je.Z,{to:f,children:(0,ie.tZ)(Oe.V$,{})})]}),(0,ie.tZ)(rt.Z,{eventView:t,organization:i,location:a,vital:[S.Zl.FCP,S.Zl.LCP,S.Zl.FID,S.Zl.CLS],hideVitalPercentNames:!0,hideDurationDetail:!0}),(0,ie.tZ)(tt.uI,{})]}),(0,ie.BX)(re.OT,{children:[(0,w.t)("User Misery"),(0,ie.tZ)(_e.Z,{position:"top",title:(0,Te.$r)(i,i.features.includes("project-transaction-threshold")?Te.V$.USER_MISERY_NEW:Te.V$.USER_MISERY),size:"sm"})]}),c,(0,ie.tZ)(tt.uI,{})]})}nt.displayName="UserStats";var ot=(0,p.Z)("div",{target:"eix0aq80"})({name:"1066lcq",styles:"display:flex;justify-content:space-between;align-items:center"});const st=nt;function at(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function it(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?at(Object(r),!0).forEach((function(t){(0,d.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):at(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var lt=function(e){(0,l.Z)(p,e);var t,r,o=(t=p,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=(0,u.Z)(t);if(r){var o=(0,u.Z)(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return(0,c.Z)(this,e)});function p(){var e;(0,s.Z)(this,p);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return e=o.call.apply(o,[this].concat(r)),(0,d.Z)((0,i.Z)(e),"state",{incompatibleAlertNotice:null}),(0,d.Z)((0,i.Z)(e),"handleSearch",(function(t){var r=e.props.location,n=(0,K.Q)(it(it({},r.query||{}),{},{query:t})),o=F()(n,"cursor");h.browserHistory.push({pathname:r.pathname,query:o})})),(0,d.Z)((0,i.Z)(e),"generateTagUrl",(function(t,r){var n=e.props.location,o=(0,_.ZT)(n.query,{key:t,value:r});return it(it({},n),{},{query:o})})),(0,d.Z)((0,i.Z)(e),"handleIncompatibleQuery",(function(t,r){var n=t((function(){return e.setState({incompatibleAlertNotice:null})}));e.setState({incompatibleAlertNotice:n})})),(0,d.Z)((0,i.Z)(e),"handleCellAction",(function(t){return function(r,n){var o=e.props,s=o.eventView,a=o.location,i=(0,C.aI)(s.query);i.removeTag("event.type"),i.removeTag("transaction"),(0,$.rh)(i,r,t,n),h.browserHistory.push({pathname:a.pathname,query:it(it({},a.query),{},{cursor:void 0,query:i.formatString()})})}})),(0,d.Z)((0,i.Z)(e),"handleTransactionsListSortChange",(function(t){var r=e.props.location,n={pathname:r.pathname,query:it(it({},r.query),{},{showTransactions:t,transactionCursor:void 0})};h.browserHistory.push(n)})),(0,d.Z)((0,i.Z)(e),"handleAllEventsViewClick",(function(){var t=e.props.organization;(0,O.ec)({eventKey:"performance_views.summary.view_in_transaction_events",eventName:"Performance Views: View in All Events from Transaction Summary",organization_id:parseInt(t.id,10)})})),(0,d.Z)((0,i.Z)(e),"handleDiscoverViewClick",(function(){var t=e.props.organization;(0,O.ec)({eventKey:"performance_views.summary.view_in_discover",eventName:"Performance Views: View in Discover from Transaction Summary",organization_id:parseInt(t.id,10)})})),(0,d.Z)((0,i.Z)(e),"handleViewDetailsClick",(function(t){var r=e.props.organization;(0,O.ec)({eventKey:"performance_views.summary.view_details",eventName:"Performance Views: View Details from Transaction Summary",organization_id:parseInt(r.id,10)})})),e}return(0,a.Z)(p,[{key:"generateEventView",value:function(e,t){var r,o=this.props,s=o.location,a=o.totalValues,i=o.spanOperationBreakdownFilter,l=ct(s,{p95:null!==(r=null==a?void 0:a.p95)&&void 0!==r?r:0,spanOperationBreakdownFilter:i}).selected,c=e.withSorts([l.sort]);if(i===H.f1.None){var u=(0,n.Z)(c.fields.slice(0,t.length));c.fields=u.filter((function(e){var t=e.field;return!(0,S.sU)(t)}))}return c}},{key:"render",value:function(){var e,t=this,r=this.props.eventView,o=this.props,s=o.transactionName,a=o.location,i=o.organization,l=o.projects,c=o.isLoading,u=o.error,d=o.totalValues,p=o.onChangeFilter,h=o.onChangeThreshold,f=o.spanOperationBreakdownFilter,g=o.transactionThreshold,v=o.transactionThresholdMetric,y=o.loadingThreshold,j=i.features.includes("performance-events-page"),b=this.state.incompatibleAlertNotice,Z=(0,z.ro)(a.query.query,""),x=null===d?null:d.count,_=(0,E.Ik)(r,l)||null!==d&&B.PE.some((function(e){return e.vitals.some((function(e){var t=(0,S.LY)("percentile(".concat(e,", ").concat(B.GW,")"));return Number.isFinite(d[t])}))})),O=[(0,w.t)("event id"),(0,w.t)("user"),(0,w.t)("total duration"),(0,w.t)("trace id"),(0,w.t)("timestamp")],P=r.clone();if(i.features.includes("performance-ops-breakdown")){var k=(0,H.Is)(f,a);k&&((r=r.clone()).query="".concat(r.query," ").concat(k).trim(),P=r.clone());var T=f===H.f1.None?(0,w.t)("operation duration"):"".concat(f," duration");O.splice(2,0,T);var C=S.zD;f!==H.f1.None&&(C=(0,H.T$)(f));var V=(0,n.Z)(P.fields);V.splice(2,0,{field:C}),f===H.f1.None&&(V.push({field:"spans.total.time"}),V.push.apply(V,(0,n.Z)(S.$4.map((function(e){return{field:e}}))))),P.fields=V}var D={generatePerformanceTransactionEventsView:function(){var e=t.generateEventView(P,O);return e.query=Z,e},handleOpenAllEventsClick:this.handleAllEventsViewClick},q={generateDiscoverEventView:function(){return t.generateEventView(P,O)},handleOpenInDiscoverClick:this.handleDiscoverViewClick};return(0,ie.BX)(m.Fragment,{children:[(0,ie.tZ)(J.Z,{eventView:r,location:a,organization:i,projects:l,transactionName:s,currentTab:J.O.TransactionSummary,hasWebVitals:_,handleIncompatibleQuery:this.handleIncompatibleQuery,onChangeThreshold:h,transactionThreshold:g,transactionThresholdMetric:v,loadingThreshold:y}),(0,ie.BX)(M.uT,{children:[(0,ie.tZ)(pt,{}),b&&(0,ie.tZ)(M.or,{fullWidth:!0,children:b}),(0,ie.BX)(M.or,{children:[(0,ie.BX)(ut,{children:[(0,ie.tZ)(H.ZP,{organization:i,currentFilter:f,onChangeFilter:p}),(0,ie.tZ)(dt,{organization:i,projectIds:r.project,query:Z,fields:r.fields,onSearch:this.handleSearch,maxQueryLength:W.dI})]}),(0,ie.tZ)(G.Z,{organization:i,location:a,eventView:r,totalValues:x,currentFilter:f}),(0,ie.tZ)(R.Z,it(it(it({location:a,organization:i,eventView:P},j?D:q),{},{showTransactions:(0,z.ro)(a.query.showTransactions,tt.K0.SLOW),breakdown:(0,H.q0)(a),titles:O,handleDropdownChange:this.handleTransactionsListSortChange,generateLink:{id:(0,tt.vd)(s),trace:(0,tt.Z6)(r.normalizeDateSelection(a))},baseline:s,handleBaselineClick:this.handleViewDetailsClick,handleCellAction:this.handleCellAction},ct(a,{p95:null!==(e=null==d?void 0:d.p95)&&void 0!==e?e:0,spanOperationBreakdownFilter:f})),{},{forceLoading:c})),(0,ie.tZ)(A.Z,{requireAll:!1,features:["performance-tag-explorer","performance-tag-page"],children:(0,ie.tZ)(He.D_,{eventView:r,organization:i,location:a,projects:l,transactionName:s,currentFilter:f})}),(0,ie.tZ)(he,{organization:i,location:a,transaction:s,start:r.start,end:r.end,statsPeriod:r.statsPeriod})]}),(0,ie.BX)(M.MF,{children:[(0,ie.tZ)(st,{organization:i,location:a,isLoading:c,hasWebVitals:_,error:u,totals:d,transactionName:s,eventView:r}),(0,ie.tZ)(Ge,{eventView:r,organization:i,location:a}),(0,ie.tZ)(tt.uI,{}),(0,ie.tZ)(Ne,{organization:i,isLoading:c,error:u,totals:d,eventView:r}),(0,ie.tZ)(tt.uI,{}),(0,ie.tZ)(Q.Z,{generateUrl:this.generateTagUrl,totalValues:x,eventView:r,organization:i,location:a})]})]})]})}}]),p}(m.Component);function ct(e,t){var r=function(e){var t=e.p95,r=e.spanOperationBreakdownFilter;if(r===H.f1.None)return[{sort:{kind:"asc",field:"transaction.duration"},value:tt.K0.FASTEST,label:(0,w.t)("Fastest Transactions")},{query:[["transaction.duration","<=".concat(t.toFixed(0))]],sort:{kind:"desc",field:"transaction.duration"},value:tt.K0.SLOW,label:(0,w.t)("Slow Transactions (p95)")},{sort:{kind:"desc",field:"transaction.duration"},value:tt.K0.OUTLIER,label:(0,w.t)("Outlier Transactions (p100)")},{sort:{kind:"desc",field:"timestamp"},value:tt.K0.RECENT,label:(0,w.t)("Recent Transactions")}];var n=(0,H.T$)(r),o=r;return[{sort:{kind:"asc",field:n},value:tt.K0.FASTEST,label:(0,w.t)("Fastest %s Operations",o)},{query:[["transaction.duration","<=".concat(t.toFixed(0))]],sort:{kind:"desc",field:n},value:tt.K0.SLOW,label:(0,w.t)("Slow %s Operations (p95)",o)},{sort:{kind:"desc",field:n},value:tt.K0.OUTLIER,label:(0,w.t)("Outlier %s Operations (p100)",o)},{sort:{kind:"desc",field:"timestamp"},value:tt.K0.RECENT,label:(0,w.t)("Recent Transactions")}]}(t),n=(0,z.ro)(e.query.showTransactions,tt.K0.SLOW);return{selected:r.find((function(e){return e.value===n}))||r[0],options:r}}lt.displayName="SummaryContent";var ut=(0,p.Z)("div",{target:"e5y9lom2"})("display:flex;width:100%;margin-bottom:",(0,U.Z)(3),";"),dt=(0,p.Z)(L.Z,{target:"e5y9lom1"})({name:"1ff36h2",styles:"flex-grow:1"}),pt=(0,p.Z)(X.Z,{target:"e5y9lom0"})("@media (min-width: ",(function(e){return e.theme.breakpoints[1]}),"){margin-bottom:0;}");pt.defaultProps={Wrapper:function(e){return(0,ie.tZ)(M.or,it({fullWidth:!0},e))}};const mt=(0,I.Z)(lt);var ht=r("./app/views/performance/transactionSummary/latencyChart.tsx");function ft(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function gt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ft(Object(r),!0).forEach((function(t){(0,d.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ft(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var vt=function(e){(0,l.Z)(m,e);var t,r,p=(t=m,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=(0,u.Z)(t);if(r){var o=(0,u.Z)(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return(0,c.Z)(this,e)});function m(){var e;(0,s.Z)(this,m);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return e=p.call.apply(p,[this].concat(r)),(0,d.Z)((0,i.Z)(e),"state",{transactionThreshold:void 0,transactionThresholdMetric:void 0,loadingThreshold:!1,spanOperationBreakdownFilter:(0,H.q0)(e.props.location),eventView:jt(e.props.location,(0,E.JY)(e.props.location))}),(0,d.Z)((0,i.Z)(e),"onChangeFilter",(function(t){var r=e.props,n=r.location,o=r.organization;(0,O.ec)({eventName:"Performance Views: Filter Dropdown",eventKey:"performance_views.filter_dropdown.selection",organization_id:parseInt(o.id,10),action:t});var s=gt(gt({},(0,T.V)(n,[ht.Oo,ht.mo])),(0,H.bz)(t));t===H.f1.None&&delete s.breakdown,h.browserHistory.push({pathname:n.pathname,query:s})})),(0,d.Z)((0,i.Z)(e),"fetchTransactionThreshold",(function(){var t=e.props,r=t.api,n=t.organization,s=t.location,a=(0,E.JY)(s),i=e.getProject();if((0,_.ri)(i)){var l="/organizations/".concat(n.slug,"/project-transaction-threshold-override/");e.setState({loadingThreshold:!0}),r.requestPromise(l,{method:"GET",includeAllArgs:!0,query:{project:i.id,transaction:a}}).then((function(t){var r=(0,o.Z)(t,1)[0];e.setState({loadingThreshold:!1,transactionThreshold:r.threshold,transactionThresholdMetric:r.metric})})).catch((function(){var t="/projects/".concat(n.slug,"/").concat(i.slug,"/transaction-threshold/configure/");e.props.api.requestPromise(t,{method:"GET",includeAllArgs:!0,query:{project:i.id}}).then((function(t){var r=(0,o.Z)(t,1)[0];e.setState({loadingThreshold:!1,transactionThreshold:r.threshold,transactionThresholdMetric:r.metric})})).catch((function(t){var r,n;e.setState({loadingThreshold:!1});var o=null!==(r=null===(n=t.responseJSON)||void 0===n?void 0:n.threshold)&&void 0!==r?r:null;(0,v.Iw)(o)}))}))}})),e}return(0,a.Z)(m,[{key:"componentDidMount",value:function(){var e=this.props,t=e.api,r=e.organization,n=e.selection;(0,y.QK)(t,r.slug,n),r.features.includes("project-transaction-threshold-override")&&this.fetchTransactionThreshold(),(0,E.n4)(n)}},{key:"componentDidUpdate",value:function(e){var t=this.props,r=t.api,n=t.organization,o=t.selection;g()(e.selection.projects,o.projects)&&g()(e.selection.datetime,o.datetime)||((0,y.QK)(r,n.slug,o),(0,E.n4)(o))}},{key:"getProject",value:function(){var e=this.props.projects,t=this.state.eventView;if((0,_.ri)(t)){var r=String(t.project[0]);return e.find((function(e){return e.id===r}))}}},{key:"getDocumentTitle",value:function(){var e=(0,E.JY)(this.props.location);return"string"==typeof e&&String(e).trim().length>0?[String(e).trim(),(0,w.t)("Performance")].join(" - "):[(0,w.t)("Summary"),(0,w.t)("Performance")].join(" - ")}},{key:"getTotalsEventView",value:function(e,t){var r=e.apdexThreshold.toString(),o=B.PE.map((function(e){return e.vitals})).reduce((function(e,t){return t.forEach((function(t){return e.push(t)})),e}),[]),s=e.features.includes("project-transaction-threshold")?[{kind:"function",function:["count_miserable","user",void 0,void 0]},{kind:"function",function:["user_misery","",void 0,void 0]},{kind:"function",function:["apdex","",void 0,void 0]}]:[{kind:"function",function:["count_miserable","user",r,void 0]},{kind:"function",function:["user_misery",r,void 0,void 0]},{kind:"function",function:["apdex",r,void 0,void 0]}];return t.withColumns([].concat([{kind:"function",function:["p95","",void 0,void 0]},{kind:"function",function:["count","",void 0,void 0]},{kind:"function",function:["count_unique","user",void 0,void 0]},{kind:"function",function:["failure_rate","",void 0,void 0]},{kind:"function",function:["tpm","",void 0,void 0]}],s,(0,n.Z)(o.map((function(e){return{kind:"function",function:["percentile",e,B.GW.toString(),void 0]}})))))}},{key:"render",value:function(){var e=this,t=this.props,r=t.organization,n=t.projects,o=t.location,s=this.state,a=s.eventView,i=s.transactionThreshold,l=s.transactionThresholdMetric,c=s.loadingThreshold,u=(0,E.JY)(o);if(!a||void 0===u)return h.browserHistory.replace({pathname:"/organizations/".concat(r.slug,"/performance/"),query:gt({},o.query)}),null;var d=this.getTotalsEventView(r,a),p=1===a.project.length,m=p?n.find((function(e){return parseInt(e.id,10)===a.project[0]})):void 0,f=a.project.map((function(e){return n.find((function(t){return parseInt(t.id,10)===e}))})).filter((function(e){return void 0!==e})).map((function(e){return e.slug}));return(0,ie.tZ)(Z.Z,{title:this.getDocumentTitle(),orgSlug:r.slug,projectSlug:null==m?void 0:m.slug,children:(0,ie.tZ)(b.Z,{lockedMessageSubject:(0,w.t)("transaction"),shouldForceProject:p,forceProject:m,specificProjectSlugs:f,disableMultipleProjectSelection:!0,showProjectSettingsLink:!0,children:(0,ie.tZ)(yt,{children:(0,ie.tZ)(j.Z,{organization:r,children:(0,ie.tZ)(P.Z,{eventView:d,orgSlug:r.slug,location:o,transactionThreshold:i,transactionThresholdMetric:l,referrer:"api.performance.transaction-summary",children:function(t){var n,s,d=t.isLoading,p=t.error,m=t.tableData,h=null!==(n=null==m||null===(s=m.data)||void 0===s?void 0:s[0])&&void 0!==n?n:null;return(0,ie.tZ)(mt,{location:o,organization:r,eventView:a,transactionName:u,isLoading:d,error:p,totalValues:h,onChangeFilter:e.onChangeFilter,spanOperationBreakdownFilter:e.state.spanOperationBreakdownFilter,onChangeThreshold:function(t,r){return e.setState({transactionThreshold:t,transactionThresholdMetric:r})},transactionThreshold:i,transactionThresholdMetric:l,loadingThreshold:c})}})})})})})}}],[{key:"getDerivedStateFromProps",value:function(e,t){return gt(gt({},t),{},{spanOperationBreakdownFilter:(0,H.q0)(e.location),eventView:jt(e.location,(0,E.JY)(e.location))})}}]),m}(m.Component);vt.displayName="TransactionSummary";var yt=(0,p.Z)(x.JH,{target:"e1kqes0c0"})({name:"1hcx8jb",styles:"padding:0"});function jt(e,t){if(void 0!==t){var r=(0,z.ro)(e.query.query,""),n=(0,C.aI)(r);return n.setTagValues("event.type",["transaction"]).setTagValues("transaction",[t]),Object.keys(n.tagValues).forEach((function(e){(0,S.h1)(e)&&n.removeTag(e)})),k.ZP.fromNewQueryWithLocation({id:void 0,version:2,name:t,fields:["id","user.display","transaction.duration","trace","timestamp"],query:n.formatString(),projects:[]},e)}}const bt=(0,V.Z)((0,D.Z)((0,I.Z)((0,q.Z)(vt))))},"./app/views/performance/transactionSummary/transactionVitals/constants.tsx":(e,t,r)=>{"use strict";r.d(t,{sE:()=>u,GW:()=>d,PE:()=>h,QB:()=>f}),r("../node_modules/core-js/modules/es.object.keys.js"),r("../node_modules/core-js/modules/es.symbol.js"),r("../node_modules/core-js/modules/es.array.filter.js"),r("../node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),r("../node_modules/core-js/modules/es.object.get-own-property-descriptors.js"),r("../node_modules/core-js/modules/es.object.define-properties.js"),r("../node_modules/core-js/modules/es.object.define-property.js");var n=r("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),o=r("../node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),s=(r("../node_modules/core-js/modules/es.array.reverse.js"),r("../node_modules/core-js/modules/es.array.reduce.js"),r("../node_modules/core-js/modules/es.array.map.js"),r("../node_modules/core-js/modules/es.array.splice.js"),r("../node_modules/core-js/modules/es.array.for-each.js"),r("../node_modules/core-js/modules/web.dom-collections.for-each.js"),r("./app/utils/discover/fields.tsx")),a=r("./app/utils/performance/vitals/constants.tsx"),i=r("./app/utils/theme.tsx");function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var u=100,d=.75,p=[{vitals:[s.Zl.FP,s.Zl.FCP,s.Zl.LCP],min:0},{vitals:[s.Zl.FID],min:0,precision:2},{vitals:[s.Zl.CLS],min:0,precision:2}],m=(0,o.Z)(i.ZP.charts.getColorPalette(p.reduce((function(e,t){return e+t.vitals.length}),0)-1)).reverse(),h=p.map((function(e){return c(c({},e),{},{colors:m.splice(0,e.vitals.length)})})),f=p.reduce((function(e,t){return t.vitals.forEach((function(t){var r=a.r[t].slug;e.push("".concat(r,"Start")),e.push("".concat(r,"End"))})),e}),[])},"./app/views/performance/vitalDetail/vitalInfo.tsx":(e,t,r)=>{"use strict";r.d(t,{Z:()=>a}),r("../node_modules/core-js/modules/es.array.is-array.js");var n=r("./app/utils/performance/vitals/vitalsCardsDiscoverQuery.tsx"),o=r("./app/views/performance/landing/vitalsCards.tsx"),s=r("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function a(e){var t=e.vital,r=e.eventView,a=e.organization,i=e.location,l=e.hideBar,c=e.hideStates,u=e.hideVitalPercentNames,d=e.hideDurationDetail;return(0,s.tZ)(n.Z,{eventView:r,orgSlug:a.slug,location:i,vitals:Array.isArray(t)?t:[t],children:function(e){var r=e.isLoading,n=e.vitalsData;return(0,s.tZ)(o.JO,{isLoading:r,data:n,vital:t,showBar:!l,showStates:!c,showVitalPercentNames:!u,showDurationDetail:!d})}})}a.displayName="vitalInfo"},"../node_modules/core-js/internals/number-is-finite.js":(e,t,r)=>{var n=r("../node_modules/core-js/internals/global.js").isFinite;e.exports=Number.isFinite||function(e){return"number"==typeof e&&n(e)}},"../node_modules/core-js/modules/es.number.is-finite.js":(e,t,r)=>{r("../node_modules/core-js/internals/export.js")({target:"Number",stat:!0},{isFinite:r("../node_modules/core-js/internals/number-is-finite.js")})}}]);
//# sourceMappingURL=../sourcemaps/app_views_performance_transactionSummary_index_tsx.f2b5949c0f7cacc277bb948b65c8e0fc.js.map