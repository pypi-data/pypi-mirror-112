(self.webpackChunk=self.webpackChunk||[]).push([["app_components_errorRobot_tsx"],{"./app/components/errorRobot.tsx":(e,t,r)=>{"use strict";r.r(t),r.d(t,{ErrorRobot:()=>Z,default:()=>k}),r("../node_modules/core-js/modules/es.reflect.construct.js");var s=r("../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),n=r("../node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),o=r("../node_modules/@babel/runtime/helpers/esm/createClass.js"),a=r("../node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js"),i=r("../node_modules/@babel/runtime/helpers/esm/inherits.js"),c=r("../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),u=r("../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),l=r("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),d=r("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),p=r("../node_modules/@babel/runtime/regenerator/index.js"),m=r.n(p),b=(r("../node_modules/core-js/modules/es.array.concat.js"),r("../node_modules/react/index.js")),h=r("../node_modules/react-router/es/index.js"),f=r("./images/spot/sentry-robot.png"),g=r("./app/components/button.tsx"),j=r("./app/locale.tsx"),v=r("./app/styles/space.tsx"),x=r("./app/utils.tsx"),y=r("./app/utils/withApi.tsx"),_=r("./app/views/onboarding/createSampleEventButton.tsx"),w=r("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");var Z=function(e){(0,i.Z)(b,e);var t,r,d,p=(r=b,d=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=(0,u.Z)(r);if(d){var s=(0,u.Z)(this).constructor;e=Reflect.construct(t,arguments,s)}else e=t.apply(this,arguments);return(0,c.Z)(this,e)});function b(){var e;(0,n.Z)(this,b);for(var t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];return e=p.call.apply(p,[this].concat(r)),(0,l.Z)((0,a.Z)(e),"state",{error:!1,loading:!1,sampleIssueId:e.props.sampleIssueId}),e}return(0,o.Z)(b,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"fetchData",value:(t=(0,s.Z)(m().mark((function e(){var t,r,s,n,o,a,i,c,u;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props,r=t.org,s=t.project,n=this.state.sampleIssueId,s){e.next=4;break}return e.abrupt("return");case 4:if(!(0,x.ri)(n)){e.next=6;break}return e.abrupt("return");case 6:return o="/projects/".concat(r.slug,"/").concat(s.slug,"/issues/"),this.setState({loading:!0}),e.prev=8,e.next=11,this.props.api.requestPromise(o,{method:"GET",data:{limit:1}});case 11:a=e.sent,this.setState({sampleIssueId:a.length>0&&a[0].id||""}),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(8),u=null===(i=null===e.t0||void 0===e.t0||null===(c=e.t0.responseJSON)||void 0===c?void 0:c.detail)||void 0===i||i,this.setState({error:u});case 19:this.setState({loading:!1});case 20:case"end":return e.stop()}}),e,this,[[8,15]])}))),function(){return t.apply(this,arguments)})},{key:"render",value:function(){var e=this.state,t=e.loading,r=e.error,s=e.sampleIssueId,n=this.props,o=n.org,a=n.project,i=n.gradient,c=a&&!t&&!r&&s?(0,w.tZ)("p",{children:(0,w.tZ)(h.Link,{to:"/".concat(o.slug,"/").concat(a.slug,"/issues/").concat(s,"/?sample"),children:(0,j.t)("Or see your sample event")})}):(0,w.tZ)("p",{children:(0,w.tZ)(_.Z,{priority:"link",project:a,source:"issues_list",disabled:!a,title:a?void 0:(0,j.t)("Select a project to create a sample event"),children:(0,j.t)("Create a sample event")})});return(0,w.BX)(O,{"data-test-id":"awaiting-events",className:"awaiting-events",gradient:i,children:[(0,w.tZ)(P,{"aria-hidden":!0,children:(0,w.tZ)(C,{})}),(0,w.BX)(S,{children:[(0,w.tZ)("h3",{children:(0,j.t)("Waiting for eventsâ€¦")}),(0,w.tZ)("p",{children:(0,j._N)("Our error robot is waiting to [strike:devour] receive your first event.",{strike:(0,w.tZ)(I,{})})}),(0,w.tZ)("p",{children:a&&(0,w.tZ)(g.ZP,{"data-test-id":"install-instructions",priority:"primary",to:"/".concat(o.slug,"/").concat(a.slug,"/getting-started/").concat(a.platform||""),children:(0,j.t)("Installation Instructions")})}),c]})]})}}]),b}(b.Component);Z.displayName="ErrorRobot";const k=(0,y.Z)(Z);var O=(0,d.Z)("div",{target:"ek4sdqz4"})("display:flex;justify-content:center;font-size:",(function(e){return e.theme.fontSizeExtraLarge}),";box-shadow:inset 0 1px 3px rgba(0, 0, 0, 0.08);border-radius:0 0 3px 3px;padding:40px ",(0,v.Z)(3)," ",(0,v.Z)(3),";min-height:260px;@media (max-width: ",(function(e){return e.theme.breakpoints[0]}),"){flex-direction:column;align-items:center;padding:",(0,v.Z)(3),";text-align:center;}"),P=(0,d.Z)("div",{target:"ek4sdqz3"})("display:block;position:relative;width:220px;height:260px;background:url(",f,");background-size:cover;@media (max-width: ",(function(e){return e.theme.breakpoints[0]}),"){width:110px;height:130px;}"),C=(0,d.Z)("span",{target:"ek4sdqz2"})("width:12px;height:12px;border-radius:50%;position:absolute;top:70px;left:81px;transform:translateZ(0);animation:blink-eye 0.6s infinite;@media (max-width: ",(function(e){return e.theme.breakpoints[0]}),"){width:6px;height:6px;top:35px;left:41px;}@keyframes blink-eye{0%{background:#e03e2f;box-shadow:0 0 10px #e03e2f;}50%{background:#4a4d67;box-shadow:none;}100%{background:#e03e2f;box-shadow:0 0 10px #e03e2f;}}"),S=(0,d.Z)("div",{target:"ek4sdqz1"})("align-self:center;max-width:480px;margin-left:40px;@media (max-width: ",(function(e){return e.theme.breakpoints[0]}),"){margin:0;}"),I=(0,d.Z)("span",{target:"ek4sdqz0"})({name:"1rcj98u",styles:"text-decoration:line-through"})},"./app/views/onboarding/createSampleEventButton.tsx":(e,t,r)=>{"use strict";r.d(t,{Z:()=>R}),r("../node_modules/core-js/modules/es.reflect.construct.js"),r("../node_modules/core-js/modules/es.object.keys.js"),r("../node_modules/core-js/modules/es.symbol.js"),r("../node_modules/core-js/modules/es.array.filter.js"),r("../node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),r("../node_modules/core-js/modules/es.array.for-each.js"),r("../node_modules/core-js/modules/web.dom-collections.for-each.js"),r("../node_modules/core-js/modules/es.object.get-own-property-descriptors.js"),r("../node_modules/core-js/modules/es.object.define-properties.js"),r("../node_modules/core-js/modules/es.object.define-property.js");var s=r("../node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),n=r("../node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),o=r("../node_modules/@babel/runtime/helpers/esm/createClass.js"),a=r("../node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js"),i=r("../node_modules/@babel/runtime/helpers/esm/inherits.js"),c=r("../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),u=r("../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),l=r("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),d=r("../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),p=r("../node_modules/@babel/runtime/regenerator/index.js"),m=r.n(p),b=(r("../node_modules/core-js/modules/es.array.concat.js"),r("../node_modules/core-js/modules/es.object.to-string.js"),r("../node_modules/core-js/modules/es.date.to-string.js"),r("../node_modules/core-js/modules/es.regexp.to-string.js"),r("../node_modules/core-js/modules/es.promise.js"),r("../node_modules/core-js/modules/web.timers.js"),r("../node_modules/react/index.js")),h=r("../node_modules/react-router/es/index.js"),f=r("../node_modules/@sentry/minimal/esm/index.js"),g=r("../node_modules/@sentry/types/esm/severity.js"),j=r("./app/actionCreators/indicator.tsx"),v=r("./app/components/button.tsx"),x=r("./app/locale.tsx"),y=r("./app/utils/analytics.tsx"),_=r("./app/utils/withApi.tsx"),w=r("./app/utils/withOrganization.tsx"),Z=r("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js"),k=["api","organization","project","source"];function O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,s)}return r}function P(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?O(Object(r),!0).forEach((function(t){(0,l.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var C=1e3;function S(e,t){return I.apply(this,arguments)}function I(){return(I=(0,d.Z)(m().mark((function e(t,r){var s;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=0;case 1:if(!(s>15)){e.next=4;break}return e.abrupt("return",{eventCreated:!1,retries:s-1});case 4:return e.next=6,new Promise((function(e){return setTimeout(e,C)}));case 6:return e.prev=6,e.next=9,t.requestPromise("/issues/".concat(r,"/events/latest/"));case 9:return e.abrupt("return",{eventCreated:!0,retries:s});case 12:e.prev=12,e.t0=e.catch(6),++s;case 15:e.next=1;break;case 17:case"end":return e.stop()}}),e,null,[[6,12]])})))).apply(this,arguments)}var z=function(e){(0,i.Z)(b,e);var t,r,p=(t=b,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,s=(0,u.Z)(t);if(r){var n=(0,u.Z)(this).constructor;e=Reflect.construct(s,arguments,n)}else e=s.apply(this,arguments);return(0,c.Z)(this,e)});function b(){var e;(0,n.Z)(this,b);for(var t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];return e=p.call.apply(p,[this].concat(r)),(0,l.Z)((0,a.Z)(e),"state",{creating:!1}),(0,l.Z)((0,a.Z)(e),"createSampleGroup",(0,d.Z)(m().mark((function t(){var r,s,n,o,a,i,c,u,l,d,p,b;return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.props,s=r.api,n=r.organization,o=r.project){t.next=3;break}return t.abrupt("return");case 3:return(0,j.E3)((0,x.t)("Processing sample event..."),{duration:15e3}),e.setState({creating:!0}),t.prev=5,i="/projects/".concat(n.slug,"/").concat(o.slug,"/create-sample/"),t.next=9,s.requestPromise(i,{method:"POST"});case 9:a=t.sent,t.next=19;break;case 12:return t.prev=12,t.t0=t.catch(5),f.$e((function(e){e.setExtra("error",t.t0),f.Tb(new Error("Failed to create sample event"))})),e.setState({creating:!1}),(0,j.B8)(),(0,j.Iw)((0,x.t)("Failed to create a new sample event")),t.abrupt("return");case 19:return c=performance.now(),t.next=22,S(s,a.groupID);case 22:if(u=t.sent,l=u.eventCreated,d=u.retries,p=performance.now(),(0,j.B8)(),e.setState({creating:!1}),b=Math.ceil(p-c),e.recordAnalytics({eventCreated:l,retries:d,duration:b}),l){t.next=34;break}return(0,j.Iw)((0,x.t)("Failed to load sample event")),f.$e((function(e){e.setTag("groupID",a.groupID),e.setTag("platform",o.platform||""),e.setTag("interval",C.toString()),e.setTag("retries",d.toString()),e.setTag("duration",b.toString()),e.setLevel(g.z.Warning),f.uT("Failed to load sample event")})),t.abrupt("return");case 34:h.browserHistory.push("/organizations/".concat(n.slug,"/issues/").concat(a.groupID,"/"));case 35:case"end":return t.stop()}}),t,null,[[5,12]])})))),e}return(0,o.Z)(b,[{key:"componentDidMount",value:function(){var e=this.props,t=e.organization,r=e.project,s=e.source;r&&(0,y.qJ)({eventKey:"sample_event.button_viewed",org_id:t.id,project_id:r.id,source:s})}},{key:"recordAnalytics",value:function(e){var t=e.eventCreated,r=e.retries,s=e.duration,n=this.props,o=n.organization,a=n.project,i=n.source;if(a){var c="sample_event.".concat(t?"created":"failed"),u="Sample Event ".concat(t?"Created":"Failed");(0,y.ec)({eventKey:c,eventName:u,organization_id:o.id,project_id:a.id,platform:a.platform||"",interval:C,retries:r,duration:s,source:i})}}},{key:"render",value:function(){var e=this.props,t=(e.api,e.organization,e.project,e.source,(0,s.Z)(e,k)),r=this.state.creating;return(0,Z.tZ)(v.ZP,P(P({},t),{},{"data-test-id":"create-sample-event",disabled:t.disabled||r,onClick:this.createSampleGroup}))}}]),b}(b.Component);z.displayName="CreateSampleEventButton";const R=(0,_.Z)((0,w.Z)(z))},"./images/spot/sentry-robot.png":(e,t,r)=>{"use strict";e.exports=r.p+"assets/sentry-robot.a95c7ba7b98be5973a7a.png"}}]);
//# sourceMappingURL=../sourcemaps/app_components_errorRobot_tsx.aa0ec0b51f90a5ac5bd536278a6b4455.js.map