(self.webpackChunk=self.webpackChunk||[]).push([["app_components_editableText_tsx"],{"./app/components/editableText.tsx":(e,t,n)=>{"use strict";n.d(t,{Z:()=>v});var o=n("../node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),r=n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),s=(n("../node_modules/core-js/modules/es.function.name.js"),n("../node_modules/core-js/modules/es.string.trim.js"),n("../node_modules/react/index.js")),i=n("./app/actionCreators/indicator.tsx"),a=n("./app/components/textOverflow.tsx"),u=n("./app/icons/iconEdit.tsx"),d=n("./app/styles/space.tsx"),c=n("./app/utils.tsx");const l=function(e){var t=(0,s.useState)(!1),n=(0,o.Z)(t,2),r=n[0],i=n[1];function a(t){t.key===e&&i(!0)}function u(t){t.key===e&&i(!1)}return(0,s.useEffect)((function(){return window.addEventListener("keydown",a),window.addEventListener("keyup",u),function(){window.removeEventListener("keydown",a),window.removeEventListener("keyup",u)}}),[]),r};var f=n("./app/views/settings/components/forms/controls/input.tsx"),m=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function p(e){var t,n,r=e.value,a=e.onChange,d=e.name,f=e.errorMessage,p=e.successMessage,v=e.isDisabled,k=void 0!==v&&v,y=(0,s.useState)(!1),E=(0,o.Z)(y,2),j=E[0],_=E[1],C=(0,s.useState)(r),L=(0,o.Z)(C,2),z=L[0],R=L[1],S=!z.trim(),T=(0,s.useRef)(null),D=(0,s.useRef)(null),B=(0,s.useRef)(null),M=l("Enter"),X=l("Escape");function A(){r!==z&&R(r),j&&_(!1)}t=T,n=function(){if(j){if(S)return void O("error");z!==r&&(a(z),O("success")),_(!1)}},(0,s.useEffect)((function(){var e=function(e){var o=null==t?void 0:t.current;o&&!o.contains(e.target)&&n(e)};return document.addEventListener("mousedown",e),document.addEventListener("touchstart",e),function(){document.removeEventListener("mousedown",e),document.removeEventListener("touchstart",e)}}),[t,n]);var I=(0,s.useCallback)((function(){if(M){if(S)return void O("error");z!==r&&(a(z),O("success")),_(!1)}}),[M,z,a]),N=(0,s.useCallback)((function(){X&&A()}),[X]);function O(e){"error"!==e?p&&(0,i.S9)(p):f&&(0,i.Iw)(f)}return(0,s.useEffect)((function(){A()}),[k,r]),(0,s.useEffect)((function(){if(j){var e=B.current;(0,c.ri)(e)&&e.focus()}}),[j]),(0,s.useEffect)((function(){j&&(I(),N())}),[I,N,j]),(0,m.tZ)(x,{isDisabled:k,isEditing:j,children:j?(0,m.BX)(w,{ref:T,isEmpty:S,"data-test-id":"editable-text-input",children:[(0,m.tZ)(h,{name:d,ref:B,value:z,onChange:function(e){R(e.target.value)}}),(0,m.tZ)(Z,{children:z})]}):(0,m.BX)(b,{onClick:k?void 0:function(){_(!0)},ref:D,"data-test-id":"editable-text-label",children:[(0,m.tZ)(g,{children:z}),!k&&(0,m.tZ)(u.y,{})]})})}p.displayName="EditableText";const v=p;var b=(0,r.Z)("div",{target:"e1nzw5k75"})("display:grid;grid-auto-flow:column;align-items:center;gap:",(0,d.Z)(1),";cursor:pointer;"),g=(0,r.Z)(a.Z,{target:"e1nzw5k74"})("border-top:1px solid transparent;border-bottom:1px dotted ",(function(e){return e.theme.gray200}),";"),w=(0,r.Z)("div",{target:"e1nzw5k73"})("display:inline-block;background:",(function(e){return e.theme.gray100}),";border-radius:",(function(e){return e.theme.borderRadius}),";margin:-",(0,d.Z)(.5)," -",(0,d.Z)(1),";max-width:calc(100% + ",(0,d.Z)(2),");"),h=(0,r.Z)(f.Z,{target:"e1nzw5k72"})("border:none!important;background:transparent;height:auto;min-height:34px;padding:",(0,d.Z)(.5)," ",(0,d.Z)(1),";&,&:focus,&:active,&:hover{box-shadow:none;}"),Z=(0,r.Z)("div",{target:"e1nzw5k71"})("height:0;opacity:0;white-space:pre;padding:0 ",(0,d.Z)(1),";"),x=(0,r.Z)("div",{target:"e1nzw5k70"})("display:flex;",(function(e){return e.isDisabled&&"\n      ".concat(g," {\n        border-bottom-color: transparent;\n      }\n    ")}),";")}}]);
//# sourceMappingURL=../sourcemaps/app_components_editableText_tsx.bb10115d2d6b9c729d8027a57fed0d4e.js.map