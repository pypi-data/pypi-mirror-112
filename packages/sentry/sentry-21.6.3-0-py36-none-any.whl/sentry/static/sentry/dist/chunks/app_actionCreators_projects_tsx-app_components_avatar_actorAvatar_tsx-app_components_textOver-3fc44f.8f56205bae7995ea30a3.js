(self.webpackChunk=self.webpackChunk||[]).push([["app_actionCreators_projects_tsx-app_components_avatar_actorAvatar_tsx-app_components_textOver-3fc44f"],{"./app/actionCreators/projects.tsx":(e,t,o)=>{"use strict";o.d(t,{Vx:()=>h,Nh:()=>b,$P:()=>_,pK:()=>v,rR:()=>O,bL:()=>w,Oe:()=>S,M9:()=>P,TA:()=>Z,$L:()=>x,iC:()=>E,xV:()=>I,mf:()=>T}),o("../node_modules/core-js/modules/es.object.keys.js"),o("../node_modules/core-js/modules/es.symbol.js"),o("../node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),o("../node_modules/core-js/modules/es.array.for-each.js"),o("../node_modules/core-js/modules/web.dom-collections.for-each.js"),o("../node_modules/core-js/modules/es.object.get-own-property-descriptors.js"),o("../node_modules/core-js/modules/es.object.define-properties.js"),o("../node_modules/core-js/modules/es.object.define-property.js");var r=o("../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),s=o("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),n=o("../node_modules/@babel/runtime/regenerator/index.js"),c=o.n(n),a=(o("../node_modules/core-js/modules/es.array.concat.js"),o("../node_modules/core-js/modules/es.array.iterator.js"),o("../node_modules/core-js/modules/es.object.to-string.js"),o("../node_modules/core-js/modules/es.set.js"),o("../node_modules/core-js/modules/es.string.iterator.js"),o("../node_modules/core-js/modules/web.dom-collections.iterator.js"),o("../node_modules/core-js/modules/es.array.join.js"),o("../node_modules/core-js/modules/es.array.map.js"),o("../node_modules/core-js/modules/es.object.values.js"),o("../node_modules/core-js/modules/es.array.filter.js"),o("../node_modules/core-js/modules/es.array.from.js"),o("../node_modules/core-js/modules/es.array.includes.js"),o("../node_modules/core-js/modules/es.string.includes.js"),o("../node_modules/core-js/modules/es.promise.js"),o("../node_modules/core-js/modules/es.array.reduce.js"),o("../node_modules/lodash/chunk.js")),u=o.n(a),i=o("../node_modules/lodash/debounce.js"),d=o.n(i),l=o("./app/actionCreators/indicator.tsx"),m=o("./app/actions/projectActions.tsx"),p=o("./app/locale.tsx"),j=o("./app/stores/projectsStatsStore.tsx");function f(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,r)}return o}function h(e,t){m.Z.update(t.projectId,t.data);var o="/projects/".concat(t.orgId,"/").concat(t.projectId,"/");return e.requestPromise(o,{method:"PUT",data:t.data}).then((function(e){return m.Z.updateSuccess(e),e}),(function(e){throw m.Z.updateError(e,t.projectId),e}))}function b(e,t){m.Z.loadStats(t.orgId,t.data);var o="/organizations/".concat(t.orgId,"/stats/");e.request(o,{query:t.query,success:function(e){m.Z.loadStatsSuccess(e)},error:function(e){m.Z.loadStatsError(e)}})}var y=new Set,g=d()((function(e,t,o){var r=j.Z.getAll(),n=Object.values(r).map((function(e){return e.id})),c=Array.from(t).filter((function(e){return!n.includes(e)}));if(c.length){var a=u()(c,10).map((function(t){return function(e,t,o,r){var n=t.map((function(e){return"id:".concat(e)})).join(" "),c="/organizations/".concat(o,"/projects/"),a=function(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?f(Object(o),!0).forEach((function(t){(0,s.Z)(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):f(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}({statsPeriod:"24h",query:n},r);return e.requestPromise(c,{query:a})}(e,t,o.orgId,o.query)}));Promise.all(a).then((function(e){m.Z.loadStatsForProjectSuccess(e.reduce((function(e,t){return e.concat(t)}),[]))})).catch((function(){(0,l.Iw)((0,p.t)("Unable to fetch all project stats"))})),y.clear()}else y.clear()}),50);function _(e,t,o){y.add(t),g(e,y,o)}function v(e){m.Z.setActive(e)}function O(e,t,o){var r="/projects/".concat(t,"/").concat(o.slug,"/");return m.Z.removeProject(o),e.requestPromise(r,{method:"DELETE"}).then((function(){m.Z.removeProjectSuccess(o),(0,l.S9)((0,p._N)("[project] was successfully removed",{project:o.slug}))}),(function(e){throw m.Z.removeProjectError(o),(0,l.Iw)((0,p._N)("Error removing [project]",{project:o.slug})),e}))}function w(e,t,o,r){var s="/projects/".concat(t,"/").concat(o.slug,"/transfer/");return e.requestPromise(s,{method:"POST",data:{email:r}}).then((function(){(0,l.S9)((0,p._N)("A request was sent to move [project] to a different organization",{project:o.slug}))}),(function(e){var t,r="";throw e.status>=400&&e.status<500&&e.responseJSON&&(r=null===(t=e.responseJSON)||void 0===t?void 0:t.detail),r?(0,l.Iw)((0,p._N)("Error transferring [project]. [message]",{project:o.slug,message:r})):(0,l.Iw)((0,p._N)("Error transferring [project]",{project:o.slug})),e}))}function S(e,t,o,r){var s="/projects/".concat(t,"/").concat(o,"/teams/").concat(r.slug,"/");return(0,l.E3)(),m.Z.addTeam(r),e.requestPromise(s,{method:"POST"}).then((function(e){(0,l.S9)((0,p._N)("[team] has been added to the [project] project",{team:"#".concat(r.slug),project:o})),m.Z.addTeamSuccess(r,o),m.Z.updateSuccess(e)}),(function(e){throw(0,l.Iw)((0,p._N)("Unable to add [team] to the [project] project",{team:"#".concat(r.slug),project:o})),m.Z.addTeamError(),e}))}function P(e,t,o,r){var s="/projects/".concat(t,"/").concat(o,"/teams/").concat(r,"/");return(0,l.E3)(),m.Z.removeTeam(r),e.requestPromise(s,{method:"DELETE"}).then((function(e){(0,l.S9)((0,p._N)("[team] has been removed from the [project] project",{team:"#".concat(r),project:o})),m.Z.removeTeamSuccess(r,o),m.Z.updateSuccess(e)}),(function(e){throw(0,l.Iw)((0,p._N)("Unable to remove [team] from the [project] project",{team:"#".concat(r),project:o})),m.Z.removeTeamError(e),e}))}function Z(e,t){m.Z.changeSlug(e,t)}function x(e,t,o,r,s){var n=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};return e.requestPromise("/teams/".concat(t,"/").concat(o,"/projects/"),{method:"POST",data:{name:r,platform:s,default_rules:n.defaultRules}})}function E(e,t,o,r){return e.requestPromise("/projects/".concat(t,"/").concat(o,"/docs/").concat(r,"/"))}function I(e,t){return e.requestPromise("/organizations/".concat(t,"/projects-count/"))}function T(e,t,o){return B.apply(this,arguments)}function B(){return(B=(0,r.Z)(c().mark((function e(t,o,r){var s;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.requestPromise("/organizations/".concat(o,"/releases/stats/"),{method:"GET",query:{statsPeriod:"90d",project:r,per_page:1}});case 2:return s=e.sent,e.abrupt("return",s.length>0);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},"./app/components/avatar/actorAvatar.tsx":(e,t,o)=>{"use strict";o.d(t,{Z:()=>v}),o("../node_modules/core-js/modules/es.reflect.construct.js"),o("../node_modules/core-js/modules/es.object.keys.js"),o("../node_modules/core-js/modules/es.symbol.js"),o("../node_modules/core-js/modules/es.array.filter.js"),o("../node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),o("../node_modules/core-js/modules/es.array.for-each.js"),o("../node_modules/core-js/modules/web.dom-collections.for-each.js"),o("../node_modules/core-js/modules/es.object.get-own-property-descriptors.js"),o("../node_modules/core-js/modules/es.object.define-properties.js"),o("../node_modules/core-js/modules/es.object.define-property.js");var r=o("../node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),s=o("../node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),n=o("../node_modules/@babel/runtime/helpers/esm/createClass.js"),c=o("../node_modules/@babel/runtime/helpers/esm/inherits.js"),a=o("../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),u=o("../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),i=o("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),d=o("../node_modules/react/index.js"),l=o("../node_modules/@sentry/minimal/esm/index.js"),m=o("./app/components/avatar/teamAvatar.tsx"),p=o("./app/components/avatar/userAvatar.tsx"),j=o("./app/stores/memberListStore.tsx"),f=o("./app/stores/teamStore.tsx"),h=o("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js"),b=["actor"];function y(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,r)}return o}function g(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?y(Object(o),!0).forEach((function(t){(0,i.Z)(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):y(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}var _=function(e){(0,c.Z)(d,e);var t,o,i=(t=d,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,u.Z)(t);if(o){var s=(0,u.Z)(this).constructor;e=Reflect.construct(r,arguments,s)}else e=r.apply(this,arguments);return(0,a.Z)(this,e)});function d(){return(0,s.Z)(this,d),i.apply(this,arguments)}return(0,n.Z)(d,[{key:"render",value:function(){var e=this.props,t=e.actor,o=(0,r.Z)(e,b);if("user"===t.type){var s,n=t.id&&null!==(s=j.Z.getById(t.id))&&void 0!==s?s:t;return(0,h.tZ)(p.Z,g({user:n},o))}if("team"===t.type){var c=f.Z.getById(t.id);return(0,h.tZ)(m.Z,g({team:c},o))}return l.$e((function(e){e.setExtra("actor",t),l.Tb(new Error("Unknown avatar type"))})),null}}]),d}(d.Component);_.displayName="ActorAvatar",(0,i.Z)(_,"defaultProps",{size:24,hasTooltip:!0});const v=_},"./app/components/textOverflow.tsx":(e,t,o)=>{"use strict";o.d(t,{Z:()=>a});var r=o("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),s=(o("../node_modules/react/index.js"),o("./app/styles/overflowEllipsis.tsx")),n=o("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js"),c=(0,r.Z)((function(e){var t=e.isParagraph,o=e.className,r=e.children,s=t?"p":"div";return(0,n.tZ)(s,{className:o,children:r})}),{target:"eyxbn6j0"})((function(e){return"right"===e.ellipsisDirection?s.Z:"\n  display: block;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  width: 100%;\n  direction: rtl;\n  text-align: left;\n"}),";width:auto;line-height:1.1;");c.defaultProps={ellipsisDirection:"right",isParagraph:!1};const a=c},"./app/stores/projectsStatsStore.tsx":(e,t,o)=>{"use strict";o.d(t,{Z:()=>d});var r=o("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),s=(o("../node_modules/core-js/modules/es.array.iterator.js"),o("../node_modules/core-js/modules/es.map.js"),o("../node_modules/core-js/modules/es.object.to-string.js"),o("../node_modules/core-js/modules/es.string.iterator.js"),o("../node_modules/core-js/modules/web.dom-collections.iterator.js"),o("../node_modules/core-js/modules/es.array.for-each.js"),o("../node_modules/core-js/modules/web.dom-collections.for-each.js"),o("../node_modules/core-js/modules/es.object.keys.js"),o("../node_modules/core-js/modules/es.symbol.js"),o("../node_modules/core-js/modules/es.array.filter.js"),o("../node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),o("../node_modules/core-js/modules/es.object.get-own-property-descriptors.js"),o("../node_modules/core-js/modules/es.object.define-properties.js"),o("../node_modules/core-js/modules/es.object.define-property.js"),o("../node_modules/reflux/src/index.js")),n=o.n(s),c=o("./app/actions/projectActions.tsx");function a(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,r)}return o}function u(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?a(Object(o),!0).forEach((function(t){(0,r.Z)(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):a(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}var i={itemsBySlug:{},init:function(){this.reset(),this.listenTo(c.Z.loadStatsForProjectSuccess,this.onStatsLoadSuccess),this.listenTo(c.Z.update,this.onUpdate),this.listenTo(c.Z.updateError,this.onUpdateError)},getInitialState:function(){return this.itemsBySlug},reset:function(){this.itemsBySlug={},this.updatingItems=new Map},onStatsLoadSuccess:function(e){var t=this;e.forEach((function(e){t.itemsBySlug[e.slug]=e})),this.trigger(this.itemsBySlug)},onUpdate:function(e,t){var o=this.getBySlug(e);if(this.updatingItems.set(e,o),o){var s=u(u({},o),t);this.itemsBySlug=u(u({},this.itemsBySlug),{},(0,r.Z)({},o.slug,s)),this.trigger(this.itemsBySlug)}},onUpdateSuccess:function(e){this.updatingItems.delete(e.slug)},onUpdateError:function(e,t){var o=this.updatingItems.get(t);o&&(this.updatingItems.delete(t),this.itemsBySlug=u(u({},this.itemsBySlug),{},(0,r.Z)({},o.slug,u({},o))),this.trigger(this.itemsBySlug))},getAll:function(){return this.itemsBySlug},getBySlug:function(e){return this.itemsBySlug[e]}};const d=n().createStore(i)}}]);
//# sourceMappingURL=../sourcemaps/app_actionCreators_projects_tsx-app_components_avatar_actorAvatar_tsx-app_components_textOver-3fc44f.961754dcd6bfba34688ece5ed3fda68f.js.map