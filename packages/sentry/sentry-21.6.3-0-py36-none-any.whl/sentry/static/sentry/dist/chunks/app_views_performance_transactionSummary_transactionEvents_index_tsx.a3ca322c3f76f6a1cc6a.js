(self.webpackChunk=self.webpackChunk||[]).push([["app_views_performance_transactionSummary_transactionEvents_index_tsx"],{"./app/components/globalSdkUpdateAlert.tsx":(e,t,r)=>{"use strict";r.d(t,{Z:()=>A}),r("../node_modules/core-js/modules/es.reflect.construct.js"),r("../node_modules/core-js/modules/es.object.keys.js"),r("../node_modules/core-js/modules/es.symbol.js"),r("../node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),r("../node_modules/core-js/modules/es.array.for-each.js"),r("../node_modules/core-js/modules/web.dom-collections.for-each.js"),r("../node_modules/core-js/modules/es.object.get-own-property-descriptors.js"),r("../node_modules/core-js/modules/es.object.define-properties.js"),r("../node_modules/core-js/modules/es.object.define-property.js");var n=r("../node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),o=r("../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),s=r("../node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),i=r("../node_modules/@babel/runtime/helpers/esm/createClass.js"),a=r("../node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js"),l=r("../node_modules/@babel/runtime/helpers/esm/inherits.js"),c=r("../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),u=r("../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),d=r("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),p=r("../node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),m=r("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),f=r("../node_modules/@babel/runtime/regenerator/index.js"),v=r.n(f),h=(r("../node_modules/core-js/modules/es.array.reduce.js"),r("../node_modules/core-js/modules/es.array.concat.js"),r("../node_modules/core-js/modules/es.array.filter.js"),r("../node_modules/core-js/modules/es.array.includes.js"),r("../node_modules/core-js/modules/es.string.includes.js"),r("../node_modules/core-js/modules/es.parse-int.js"),r("../node_modules/react/index.js")),y=r("./app/actionCreators/prompts.tsx"),b=r("./app/actions/sidebarPanelActions.tsx"),j=r("./app/components/alert.tsx"),g=r("./app/constants/globalSelectionHeader.tsx"),Z=r("./app/icons/index.tsx"),w=r("./app/locale.tsx"),O=r("./app/styles/space.tsx"),x=r("./app/utils/analytics.tsx"),k=r("./app/utils/promptIsDismissed.tsx"),_=r("./app/utils/withApi.tsx"),S=r("./app/utils/withGlobalSelection.tsx"),P=r("./app/utils/withOrganization.tsx"),C=r("./app/utils/withSdkUpdates.tsx"),D=r("./app/components/sidebar/types.tsx"),z=r("./app/components/button.tsx"),E=r("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js"),q=["api","selection","sdkUpdates","organization","Wrapper"];function B(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function F(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?B(Object(r),!0).forEach((function(t){(0,d.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var N=function(e){var t=e.organization;return(0,x.ec)({eventKey:"sdk_updates.snoozed",eventName:"SDK Updates: Snoozed",organization_id:t.id})},T=function(e){(0,l.Z)(h,e);var t,r,m,f=(r=h,m=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=(0,u.Z)(r);if(m){var n=(0,u.Z)(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return(0,c.Z)(this,e)});function h(){var e;(0,s.Z)(this,h);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return e=f.call.apply(f,[this].concat(r)),(0,d.Z)((0,a.Z)(e),"state",{isDismissed:null}),(0,d.Z)((0,a.Z)(e),"snoozePrompt",(function(){var t=e.props,r=t.api,n=t.organization;(0,y.X)(r,{organizationId:n.id,feature:"sdk_updates",status:"snoozed"}),e.setState({isDismissed:!0}),N({organization:e.props.organization})})),e}return(0,i.Z)(h,[{key:"componentDidMount",value:function(){var e;this.promptsCheck(),e={organization:this.props.organization}.organization,(0,x.ec)({eventKey:"sdk_updates.seen",eventName:"SDK Updates: Seen",organization_id:e.id})}},{key:"promptsCheck",value:(t=(0,o.Z)(v().mark((function e(){var t,r,n,o;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,r=t.api,n=t.organization,e.next=3,(0,y.v)(r,{organizationId:n.id,feature:"sdk_updates"});case 3:o=e.sent,this.setState({isDismissed:(0,k.I)(o)});case 5:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"render",value:function(){var e,t=this.props,r=(t.api,t.selection),o=t.sdkUpdates,s=t.organization,i=t.Wrapper,a=(0,n.Z)(t,q),l=this.state.isDismissed;if(!o||null===l||l)return null;if(0===(e=0===(null==r?void 0:r.projects.length)||(null==r?void 0:r.projects)===[g.mP]?o:o.filter((function(e){var t;return null==r||null===(t=r.projects)||void 0===t?void 0:t.includes(parseInt(e.projectId,10))})),e.reduce((function(e,t){return[].concat((0,p.Z)(e),(0,p.Z)(t.suggestions))}),[])).length)return null;var c=(0,E.tZ)(z.ZP,{priority:"link",onClick:function(){b.Z.activatePanel(D.z.Broadcasts),function(e){var t=e.organization;(0,x.ec)({eventKey:"sdk_updates.clicked",eventName:"SDK Updates: Clicked",organization_id:t.id})}({organization:s})},children:(0,w.t)("Review updates")}),u=(0,E.tZ)(j.Z,F(F({type:"info",icon:(0,E.tZ)(Z.XK,{})},a),{},{children:(0,E.BX)(V,{children:[(0,w.t)("You have outdated SDKs in your projects. Update them for important fixes and features."),(0,E.BX)(R,{children:[(0,E.tZ)(z.ZP,{priority:"link",title:(0,w.t)("Dismiss for the next two weeks"),onClick:this.snoozePrompt,children:(0,w.t)("Remind me later")}),"|",c]})]})}));return i?(0,E.tZ)(i,{children:u}):u}}]),h}(h.Component);T.displayName="InnerGlobalSdkSuggestions";var V=(0,m.Z)("div",{target:"e13jrk6t1"})("display:flex;flex-wrap:wrap;@media (min-width: ",(function(e){return e.theme.breakpoints[0]}),"){justify-content:space-between;}"),R=(0,m.Z)("div",{target:"e13jrk6t0"})("display:grid;grid-template-columns:repeat(3, max-content);grid-gap:",(0,O.Z)(1),";");const A=(0,P.Z)((0,C.Z)((0,S.Z)((0,_.Z)(T))))},"./app/utils/discover/discoverQuery.tsx":(e,t,r)=>{"use strict";r.d(t,{Z:()=>u}),r("../node_modules/core-js/modules/es.object.keys.js"),r("../node_modules/core-js/modules/es.symbol.js"),r("../node_modules/core-js/modules/es.array.filter.js"),r("../node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),r("../node_modules/core-js/modules/es.array.for-each.js"),r("../node_modules/core-js/modules/web.dom-collections.for-each.js"),r("../node_modules/core-js/modules/es.object.get-own-property-descriptors.js"),r("../node_modules/core-js/modules/es.object.define-properties.js"),r("../node_modules/core-js/modules/es.object.define-property.js");var n=r("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),o=(r("../node_modules/react/index.js"),r("./app/utils/withApi.tsx")),s=r("./app/utils/discover/genericDiscoverQuery.tsx"),i=r("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e,t){return e.transactionName!==t.transactionName||e.transactionThreshold!==t.transactionThreshold||e.transactionThresholdMetric!==t.transactionThresholdMetric}function c(e){return(0,i.tZ)(s.Z,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({route:"eventsv2",shouldRefetchData:l},e))}c.displayName="DiscoverQuery";const u=(0,o.Z)(c)},"./app/views/performance/transactionSummary/transactionEvents/index.tsx":(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>Ke}),r("../node_modules/core-js/modules/es.reflect.construct.js"),r("../node_modules/core-js/modules/es.symbol.js"),r("../node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),r("../node_modules/core-js/modules/es.object.get-own-property-descriptors.js"),r("../node_modules/core-js/modules/es.object.define-properties.js"),r("../node_modules/core-js/modules/es.object.define-property.js");var n=r("../node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),o=r("../node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),s=r("../node_modules/@babel/runtime/helpers/esm/createClass.js"),i=r("../node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js"),a=r("../node_modules/@babel/runtime/helpers/esm/inherits.js"),l=r("../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),c=r("../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),u=r("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),d=(r("../node_modules/core-js/modules/es.array.concat.js"),r("../node_modules/core-js/modules/es.parse-int.js"),r("../node_modules/core-js/modules/es.array.sort.js"),r("../node_modules/core-js/modules/es.array.for-each.js"),r("../node_modules/core-js/modules/web.dom-collections.for-each.js"),r("../node_modules/core-js/modules/es.string.trim.js"),r("../node_modules/core-js/modules/es.array.join.js"),r("../node_modules/core-js/modules/es.regexp.exec.js"),r("../node_modules/core-js/modules/es.string.replace.js"),r("../node_modules/core-js/modules/es.array.find.js"),r("../node_modules/core-js/modules/es.array.map.js"),r("../node_modules/core-js/modules/es.array.filter.js"),r("../node_modules/core-js/modules/es.array.includes.js"),r("../node_modules/core-js/modules/es.string.includes.js"),r("../node_modules/core-js/modules/es.object.values.js"),r("../node_modules/core-js/modules/es.object.keys.js"),r("../node_modules/core-js/modules/es.array.splice.js"),r("../node_modules/react/index.js")),p=r("../node_modules/react-router/es/index.js"),m=r("./app/components/acl/feature.tsx"),f=r("./app/components/alert.tsx"),v=r("./app/components/lightWeightNoProjectMessage.tsx"),h=r("./app/components/organizations/globalSelectionHeader/index.tsx"),y=r("./app/components/sentryDocumentTitle.tsx"),b=r("./app/locale.tsx"),j=r("./app/utils/analytics.tsx"),g=r("./app/utils/discover/discoverQuery.tsx"),Z=r("./app/utils/discover/eventView.tsx"),w=r("./app/utils/discover/fields.tsx"),O=r("./app/utils/performance/histogram/index.tsx"),x=r("./app/utils/queryString.tsx"),k=r("./app/utils/tokenizeSearch.tsx"),_=r("./app/utils/withGlobalSelection.tsx"),S=r("./app/utils/withOrganization.tsx"),P=r("./app/utils/withProjects.tsx"),C=r("./app/views/performance/utils.tsx"),D=r("./app/views/performance/transactionSummary/filter.tsx"),z=r("./app/views/performance/transactionSummary/latencyChart.tsx"),E=r("../node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),q=r("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),B=(r("../node_modules/core-js/modules/es.object.entries.js"),r("../node_modules/lodash/omit.js")),F=r.n(B),N=r("./app/components/dropdownControl.tsx"),T=r("./app/components/events/searchBar.tsx"),V=r("./app/components/globalSdkUpdateAlert.tsx"),R=r("./app/components/layouts/thirds.tsx"),A=r("./app/components/loadingIndicator.tsx"),I=r("./app/components/organizations/globalSelectionHeader/getParams.tsx"),L=r("./app/icons/index.tsx"),M=r("./app/styles/space.tsx"),H=r("./app/views/eventsV2/table/cellAction.tsx"),W=r("./app/views/performance/landing/utils.tsx"),X=r("./app/views/performance/transactionSummary/header.tsx"),K=(r("../node_modules/core-js/modules/es.number.constructor.js"),r("../node_modules/core-js/modules/es.function.name.js"),r("./app/components/gridEditable/index.tsx")),U=r("./app/components/gridEditable/sortLink.tsx"),Q=r("./app/components/links/link.tsx"),G=r("./app/components/pagination/index.tsx"),Y=r("./app/components/questionTooltip.tsx"),J=r("./app/components/tooltip.tsx"),$=r("./app/utils.tsx"),ee=r("./app/utils/discover/fieldRenderers.tsx"),te=r("./app/views/performance/data.tsx"),re=r("./app/views/performance/transactionSummary/utils.tsx"),ne=(r("../node_modules/core-js/modules/es.array.some.js"),r("../node_modules/react-dom/index.js")),oe=r("../node_modules/react-popper/lib/esm/Popper.js"),se=r("../node_modules/react-popper/lib/esm/Manager.js"),ie=r("../node_modules/react-popper/lib/esm/Reference.js"),ae=r("./app/components/menuItem.tsx"),le=r("./app/components/radio.tsx"),ce=r("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function ue(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function de(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ue(Object(r),!0).forEach((function(t){(0,u.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ue(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var pe=function(e){(0,a.Z)(d,e);var t,r,n=(t=d,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=(0,c.Z)(t);if(r){var o=(0,c.Z)(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return(0,l.Z)(this,e)});function d(e){var t;(0,o.Z)(this,d),t=n.call(this,e),(0,u.Z)((0,i.Z)(t),"state",{isOpen:!1}),(0,u.Z)((0,i.Z)(t),"portalEl",void 0),(0,u.Z)((0,i.Z)(t),"menuEl",void 0),(0,u.Z)((0,i.Z)(t),"handleClickOutside",(function(e){t.menuEl&&e.target instanceof Element&&(t.menuEl.contains(e.target)||t.setState({isOpen:!1}))})),(0,u.Z)((0,i.Z)(t),"toggleOpen",(function(){t.setState((function(e){return{isOpen:!e.isOpen}}))}));var r=document.getElementById("transaction-events-portal");return r||((r=document.createElement("div")).setAttribute("id","transaction-events-portal"),document.body.appendChild(r)),t.portalEl=r,t.menuEl=null,t}return(0,s.Z)(d,[{key:"componentDidUpdate",value:function(e,t){this.state.isOpen&&!1===t.isOpen&&document.addEventListener("click",this.handleClickOutside,!0),!1===this.state.isOpen&&t.isOpen&&document.removeEventListener("click",this.handleClickOutside,!0)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.handleClickOutside,!0),this.portalEl.remove()}},{key:"generateSortLink",value:function(e){var t=this.props,r=t.eventView,n=t.tableMeta,o=t.location;if(n){var s=r.sortOnField(e,n,"desc").generateQueryStringObject();return de(de({},o),{},{query:de(de({},o.query),{},{sort:s.sort})})}}},{key:"renderMenuItem",value:function(e,t){var r=this,n=this.props.eventView;return(0,ce.tZ)(fe,{children:(0,ce.tZ)(ve,{children:(0,ce.BX)(he,{children:[(0,ce.tZ)(ye,{readOnly:!0,radioSize:"small",checked:n.sorts.some((function(t){return t.field===e})),onClick:function(){var t=r.generateSortLink({field:e});t&&p.browserHistory.push(t)}}),(0,ce.tZ)("span",{children:t})]})})})}},{key:"renderMenuContent",value:function(){return(0,ce.BX)(be,{children:[this.renderMenuItem("spans.http",(0,b.t)("Sort By HTTP")),this.renderMenuItem("spans.db",(0,b.t)("Sort By DB")),this.renderMenuItem("spans.resource",(0,b.t)("Sort By Resource")),this.renderMenuItem("spans.browser",(0,b.t)("Sort By Browser"))]})}},{key:"renderMenu",value:function(){var e=this;return ne.createPortal((0,ce.tZ)(oe.ZP,{placement:"top",modifiers:{hide:{enabled:!1},preventOverflow:{padding:10,enabled:!0,boundariesElement:"viewport"}},children:function(t){var r=t.ref,n=t.style,o=t.placement;return(0,ce.tZ)(me,{ref:function(t){r(t),e.menuEl=t},style:n,"data-placement":o,children:e.renderMenuContent()})}}),this.portalEl)}},{key:"render",value:function(){var e=this,t=this.props.title,r=this.state.isOpen?this.renderMenu():null;return(0,ce.BX)(se.ZP,{children:[(0,ce.tZ)(ie.Z,{children:function(r){var n=r.ref;return(0,ce.tZ)(je,{ref:n,children:(0,ce.tZ)(t,{onClick:e.toggleOpen})})}}),r]})}}]),d}(d.Component);pe.displayName="OperationSort";var me=(0,q.Z)("div",{target:"e1pnio0z6"})("border:none;border-radius:2px;box-shadow:0 0 0 1px rgba(52, 60, 69, 0.2),0 1px 3px rgba(70, 82, 98, 0.25);background-clip:padding-box;background-color:",(function(e){return e.theme.background}),";width:220px;overflow:visible;z-index:",(function(e){return e.theme.zIndex.tooltip}),";&:before,&:after{width:0;height:0;content:'';display:block;position:absolute;right:auto;}&:before{border-left:9px solid transparent;border-right:9px solid transparent;left:calc(50% - 9px);z-index:-2;}&:after{border-left:8px solid transparent;border-right:8px solid transparent;left:calc(50% - 8px);z-index:-1;}&[data-placement*='bottom']{margin-top:9px;&:before{border-bottom:9px solid ",(function(e){return e.theme.border}),";top:-9px;}&:after{border-bottom:8px solid ",(function(e){return e.theme.background}),";top:-8px;}}&[data-placement*='top']{margin-bottom:9px;&:before{border-top:9px solid ",(function(e){return e.theme.border}),";bottom:-9px;}&:after{border-top:8px solid ",(function(e){return e.theme.background}),";bottom:-8px;}}"),fe=(0,q.Z)(ae.Z,{target:"e1pnio0z5"})("font-size:",(function(e){return e.theme.fontSizeMedium}),";&:not(:last-child){border-bottom:1px solid ",(function(e){return e.theme.innerBorder}),";}"),ve=(0,q.Z)("div",{target:"e1pnio0z4"})({name:"1bxfgt5",styles:"display:flex;flex-direction:row;justify-content:flex-start;align-items:center;width:100%"}),he=(0,q.Z)("label",{target:"e1pnio0z3"})({name:"1oo7s2s",styles:"display:grid;cursor:pointer;grid-gap:0.25em 0.5em;grid-template-columns:max-content auto;align-items:center;outline:none;font-weight:normal;margin:0"}),ye=(0,q.Z)(le.Z,{target:"e1pnio0z2"})({name:"ti75j2",styles:"margin:0"}),be=(0,q.Z)("div",{target:"e1pnio0z1"})({name:"1okymkx",styles:"max-height:250px;overflow-y:auto"}),je=(0,q.Z)("div",{target:"e1pnio0z0"})({name:"e0dnmk",styles:"cursor:pointer"});const ge=pe;function Ze(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function we(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ze(Object(r),!0).forEach((function(t){(0,u.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ze(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Oe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,c.Z)(e);if(t){var o=(0,c.Z)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return(0,l.Z)(this,r)}}var xe=function(e){(0,a.Z)(r,e);var t=Oe(r);function r(){return(0,o.Z)(this,r),t.apply(this,arguments)}return(0,s.Z)(r,[{key:"render",value:function(){var e=this.props.onClick;return(0,ce.BX)("div",{onClick:e,children:[(0,ce.tZ)("span",{children:(0,b.t)("operation duration")}),(0,ce.tZ)(_e,{size:"xs",position:"top",title:(0,b.t)("Span durations are summed over the course of an entire transaction. Any overlapping spans are only counted once.")})]})}}]),r}(d.Component);xe.displayName="OperationTitle";var ke=function(e){(0,a.Z)(r,e);var t=Oe(r);function r(){var e;(0,o.Z)(this,r);for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];return e=t.call.apply(t,[this].concat(a)),(0,u.Z)((0,i.Z)(e),"state",{widths:[]}),(0,u.Z)((0,i.Z)(e),"handleCellAction",(function(t){return function(r,n){var o=e.props,s=o.eventView,i=o.location,a=o.organization;(0,j.ec)({eventKey:"performance_views.transactionEvents.cellaction",eventName:"Performance Views: Transaction Events Tab Cell Action Clicked",organization_id:parseInt(a.id,10),action:r});var l=(0,k.aI)(s.query);l.removeTag("event.type"),(0,H.rh)(l,r,t,n),p.browserHistory.push({pathname:i.pathname,query:we(we({},i.query),{},{cursor:void 0,query:l.formatString()})})}})),(0,u.Z)((0,i.Z)(e),"renderBodyCellWithData",(function(t){return function(r,n){return e.renderBodyCell(t,r,n)}})),(0,u.Z)((0,i.Z)(e),"renderHeadCellWithMeta",(function(t){var r,n=null!==(r=e.props.columnTitles)&&void 0!==r?r:te.hj;return function(r,o){return e.renderHeadCell(t,r,n[o])}})),(0,u.Z)((0,i.Z)(e),"handleResizeColumn",(function(t,r){var o=(0,n.Z)(e.state.widths);o[t]=r.width?Number(r.width):K.z7,e.setState({widths:o})})),e}return(0,s.Z)(r,[{key:"renderBodyCell",value:function(e,t,r){var n=this.props,o=n.eventView,s=n.organization,i=n.location,a=n.transactionName;if(!e||!e.meta)return r[t.key];var l=e.meta,c=String(t.key),u=(0,ee.Js)(c,l)(r,{organization:s,location:i,eventView:o}),d=[H.eX.ADD,H.eX.EXCLUDE,H.eX.SHOW_GREATER_THAN,H.eX.SHOW_LESS_THAN];if("id"===c||"trace"===c){var p=("id"===c?re.vd:re.Z6)(a)(s,r,i.query);return(0,ce.tZ)(H.ZP,{column:t,dataRow:r,handleCellAction:this.handleCellAction(t),allowActions:d,children:(0,ce.tZ)(Q.Z,{to:p,children:u})})}var m=(0,w.LY)(c),f=r[m];return"integer"===l[m]&&(0,$.ri)(f)&&f>999?(0,ce.tZ)(J.Z,{title:f.toLocaleString(),containerDisplayMode:"block",position:"right",children:(0,ce.tZ)(H.ZP,{column:t,dataRow:r,handleCellAction:this.handleCellAction(t),allowActions:d,children:u})}):(0,ce.tZ)(H.ZP,{column:t,dataRow:r,handleCellAction:this.handleCellAction(t),allowActions:d,children:u})}},{key:"onSortClick",value:function(e,t){var r=this.props.organization;(0,j.ec)({eventKey:"performance_views.transactionEvents.sort",eventName:"Performance Views: Transaction Events Tab Sorted",organization_id:parseInt(r.id,10),field:t,direction:e})}},{key:"renderHeadCell",value:function(e,t,r){var n=this,o=this.props,s=o.eventView,i=o.location,a=(0,w.qG)(t.name,t.type,e),l={field:t.name,width:t.width},c=s.sortForField(l,e),u="id"!==l.field&&"trace"!==l.field&&l.field!==w.zD&&(0,Z.M3)(l,e),d=c?c.kind:void 0,p=c?c.field:void 0;return l.field===w.zD&&(r=(0,ce.tZ)(ge,{title:xe,eventView:s,tableMeta:e,location:i})),(0,ce.tZ)(U.Z,{align:a,title:r||l.field,direction:d,canSort:u,generateSortLink:function(){if(e){var t=s.sortOnField(l,e).generateQueryStringObject();return we(we({},i),{},{query:we(we({},i.query),{},{sort:t.sort})})}},onClick:function(){return n.onSortClick(d,p)}})}},{key:"render",value:function(){var e=this,t=this.props,r=t.eventView,n=t.organization,o=t.location,s=t.setError,i=this.state.widths,a=r.getColumns().find((function(e){return e.name===w.zD})),l=r.getColumns().filter((function(e){return!a||!(0,w.yK)(e.name)})).map((function(e,t){return"number"==typeof i[t]?we(we({},e),{},{width:i[t]}):e}));return(0,ce.tZ)("div",{children:(0,ce.tZ)(g.Z,{eventView:r,orgSlug:n.slug,location:o,setError:s,referrer:"api.performance.transaction-events",children:function(t){var n=t.pageLinks,s=t.isLoading,i=t.tableData;return(0,ce.BX)(d.Fragment,{children:[(0,ce.tZ)(K.ZP,{isLoading:s,data:i?i.data:[],columnOrder:l,columnSortBy:r.getSorts(),grid:{onResizeColumn:e.handleResizeColumn,renderHeadCell:e.renderHeadCellWithMeta(null==i?void 0:i.meta),renderBodyCell:e.renderBodyCellWithData(i)},location:o}),(0,ce.tZ)(G.Z,{pageLinks:n})]})}})})}}]),r}(d.Component);ke.displayName="EventsTable";var _e=(0,q.Z)(Y.Z,{target:"e8p3pb0"})({name:"1dgfen9",styles:"position:relative;top:1px;left:4px"});const Se=ke;var Pe=r("./app/views/performance/transactionSummary/transactionEvents/utils.tsx");function Ce(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function De(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ce(Object(r),!0).forEach((function(t){(0,u.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ce(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ze(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,c.Z)(e);if(t){var o=(0,c.Z)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return(0,l.Z)(this,r)}}var Ee=function(e){(0,a.Z)(r,e);var t=ze(r);function r(){var e;(0,o.Z)(this,r);for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return e=t.call.apply(t,[this].concat(s)),(0,u.Z)((0,i.Z)(e),"state",{incompatibleAlertNotice:null,error:void 0}),(0,u.Z)((0,i.Z)(e),"handleCellAction",(function(t){return function(r,n){var o=e.props,s=o.eventView,i=o.location,a=(0,k.aI)(s.query);a.removeTag("event.type"),a.removeTag("transaction"),(0,H.rh)(a,r,t,n),p.browserHistory.push({pathname:i.pathname,query:De(De({},i.query),{},{cursor:void 0,query:a.formatString()})})}})),(0,u.Z)((0,i.Z)(e),"handleIncompatibleQuery",(function(t,r){var n=t((function(){return e.setState({incompatibleAlertNotice:null})}));e.setState({incompatibleAlertNotice:n})})),(0,u.Z)((0,i.Z)(e),"setError",(function(t){e.setState({error:t})})),e}return(0,s.Z)(r,[{key:"renderError",value:function(){var e=this.state.error;return e?(0,ce.tZ)(Ne,{type:"error",icon:(0,ce.tZ)(L.Gy,{size:"md"}),children:e}):null}},{key:"render",value:function(){var e=this.props,t=e.eventView,r=e.location,n=e.organization,o=e.projects,s=e.transactionName,i=e.isLoading,a=this.state.incompatibleAlertNotice;return(0,ce.BX)(d.Fragment,{children:[(0,ce.tZ)(X.Z,{eventView:t,location:r,organization:n,projects:o,transactionName:s,currentTab:X.O.Events,hasWebVitals:(0,W.Q_)(r,o,t).field===W.BY.FRONTEND_PAGELOAD,handleIncompatibleQuery:this.handleIncompatibleQuery}),(0,ce.BX)(R.uT,{children:[(0,ce.tZ)(Re,{}),this.renderError(),a&&(0,ce.tZ)(R.or,{fullWidth:!0,children:a}),(0,ce.tZ)(R.or,{fullWidth:!0,children:i?(0,ce.tZ)(A.Z,{}):(0,ce.tZ)(qe,De(De({},this.props),{},{setError:this.setError}))})]})]})}}]),r}(d.Component);Ee.displayName="EventsPageContent";var qe=function(e){(0,a.Z)(r,e);var t=ze(r);function r(){return(0,o.Z)(this,r),t.apply(this,arguments)}return(0,s.Z)(r,[{key:"render",value:function(){var e=this.props.eventView,t=this.props,r=t.location,n=t.organization,o=t.transactionName,s=t.spanOperationBreakdownFilter,i=t.eventsDisplayFilterName,a=t.onChangeEventsDisplayFilter,l=t.setError,c=t.webVital,u=[(0,b.t)("event id"),(0,b.t)("user"),(0,b.t)("operation duration"),(0,b.t)("total duration"),(0,b.t)("trace id"),(0,b.t)("timestamp")];c&&u.splice(3,0,(0,b.t)(c));var p=(0,D.Is)(s,r);return p&&((e=e.clone()).query="".concat(e.query," ").concat(p).trim(),u.splice(2,1,(0,b.t)("".concat(s," duration")))),(0,ce.BX)(d.Fragment,{children:[(0,ce.tZ)(Be,De(De({},this.props),{},{onChangeEventsDisplayFilter:a,eventsDisplayFilterName:i})),(0,ce.tZ)(Ve,{children:(0,ce.tZ)(Se,{eventView:e,organization:n,location:r,setError:l,columnTitles:u,transactionName:o})})]})}}]),r}(d.Component);qe.displayName="Body";var Be=function(e){var t=e.eventView,r=e.location,n=e.organization,o=e.spanOperationBreakdownFilter,s=e.onChangeSpanOperationBreakdownFilter,i=e.eventsDisplayFilterName,a=e.onChangeEventsDisplayFilter,l=e.percentileValues,c=(0,x.ro)(r.query.query,""),u=(0,Pe._S)(o,l);return(0,ce.BX)(Fe,{children:[(0,ce.tZ)(D.ZP,{organization:n,currentFilter:o,onChangeFilter:s}),(0,ce.tZ)(Te,{organization:n,projectIds:t.project,query:c,fields:t.fields,onSearch:function(e){var t=(0,I.Q)(De(De({},r.query||{}),{},{query:e})),n=F()(t,"cursor");p.browserHistory.push({pathname:r.pathname,query:n})}}),(0,ce.tZ)(Ae,{children:(0,ce.tZ)(N.ZP,{buttonProps:{prefix:(0,b.t)("Percentile")},label:u[i].label,children:Object.entries(u).map((function(e){var t=(0,E.Z)(e,2),r=t[0],n=t[1];return(0,ce.tZ)(N.hP,{onSelect:a,eventKey:r,"data-test-id":r,isActive:i===r,children:n.label},r)}))})})]})};Be.displayName="Search";var Fe=(0,q.Z)("div",{target:"e1rf7xcw5"})("display:flex;width:100%;margin-bottom:",(0,M.Z)(3),";"),Ne=(0,q.Z)(f.Z,{target:"e1rf7xcw4"})({name:"3hfw1i",styles:"grid-column:1/3;margin:0"}),Te=(0,q.Z)(T.Z,{target:"e1rf7xcw3"})({name:"1ff36h2",styles:"flex-grow:1"}),Ve=(0,q.Z)("div",{target:"e1rf7xcw2"})({name:"1ff36h2",styles:"flex-grow:1"}),Re=(0,q.Z)(V.Z,{target:"e1rf7xcw1"})("@media (min-width: ",(function(e){return e.theme.breakpoints[1]}),"){margin-bottom:0;}"),Ae=(0,q.Z)("div",{target:"e1rf7xcw0"})("margin-left:",(0,M.Z)(1),";flex-grow:0;");Re.defaultProps={Wrapper:function(e){return(0,ce.tZ)(R.or,De({fullWidth:!0},e))}};const Ie=Ee;function Le(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Me(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Le(Object(r),!0).forEach((function(t){(0,u.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Le(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var He=function(e){(0,a.Z)(d,e);var t,r,n=(t=d,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=(0,c.Z)(t);if(r){var o=(0,c.Z)(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return(0,l.Z)(this,e)});function d(){var e;(0,o.Z)(this,d);for(var t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];return e=n.call.apply(n,[this].concat(r)),(0,u.Z)((0,i.Z)(e),"state",{spanOperationBreakdownFilter:(0,D.q0)(e.props.location),eventsDisplayFilterName:(0,Pe.tb)(e.props.location),eventView:Xe(e.props.location,(0,C.JY)(e.props.location))}),(0,u.Z)((0,i.Z)(e),"onChangeSpanOperationBreakdownFilter",(function(t){var r,n=e.props,o=n.location,s=n.organization,i=e.state,a=i.spanOperationBreakdownFilter,l=i.eventsDisplayFilterName,c=i.eventView;(0,j.ec)({eventName:"Performance Views: Transaction Events Ops Breakdown Filter Dropdown",eventKey:"performance_views.transactionEvents.ops_filter_dropdown.selection",organization_id:parseInt(s.id,10),action:t});var u=(0,Pe._S)(a)[l].sort,d=null==c||null===(r=c.sorts)||void 0===r?void 0:r[0],m={};(null==u?void 0:u.kind)===(null==d?void 0:d.kind)&&(null==u?void 0:u.field)===(null==d?void 0:d.field)&&(m=(0,Pe.qg)(l,t));var f=Me(Me(Me({},(0,O.V)(o,[z.Oo,z.mo])),(0,D.bz)(t)),m);t===D.f1.None&&delete f.breakdown,p.browserHistory.push({pathname:o.pathname,query:f})})),(0,u.Z)((0,i.Z)(e),"onChangeEventsDisplayFilter",(function(t){var r=e.props.organization;(0,j.ec)({eventName:"Performance Views: Transaction Events Display Filter Dropdown",eventKey:"performance_views.transactionEvents.display_filter_dropdown.selection",organization_id:parseInt(r.id,10),action:t}),e.filterDropdownSortEvents(t)})),(0,u.Z)((0,i.Z)(e),"filterDropdownSortEvents",(function(t){var r=e.props.location,n=e.state.spanOperationBreakdownFilter,o=Me(Me({},(0,O.V)(r,[z.Oo,z.mo])),(0,Pe.qg)(t,n));t===Pe.q3.p100&&delete o.showTransaction,p.browserHistory.push({pathname:r.pathname,query:o})})),(0,u.Z)((0,i.Z)(e),"getFilteredEventView",(function(t){var r=e.state,n=r.eventsDisplayFilterName,o=r.spanOperationBreakdownFilter,s=r.eventView,i=(0,Pe._S)(o,t)[n],a=null==s?void 0:s.clone();if(a&&null!=i&&i.query){var l=(0,k.aI)(a.query);i.query.forEach((function(e){return l.setTagValues(e[0],[e[1]])})),a.query=l.formatString()}return a})),(0,u.Z)((0,i.Z)(e),"renderNoAccess",(function(){return(0,ce.tZ)(f.Z,{type:"warning",children:(0,b.t)("You don't have access to this feature")})})),e}return(0,s.Z)(d,[{key:"getDocumentTitle",value:function(){var e=(0,C.JY)(this.props.location);return"string"==typeof e&&String(e).trim().length>0?[String(e).trim(),(0,b.t)("Events")].join(" — "):[(0,b.t)("Summary"),(0,b.t)("Events")].join(" — ")}},{key:"getPercentilesEventView",value:function(e){return e.withColumns([].concat([{kind:"function",function:["p100","",void 0,void 0]},{kind:"function",function:["p99","",void 0,void 0]},{kind:"function",function:["p95","",void 0,void 0]},{kind:"function",function:["p75","",void 0,void 0]},{kind:"function",function:["p50","",void 0,void 0]}]))}},{key:"render",value:function(){var e=this,t=this.props,r=t.organization,n=t.projects,o=t.location,s=this.state.eventView,i=(0,C.JY)(o),a=We(o);if(!s||void 0===i)return p.browserHistory.replace({pathname:"/organizations/".concat(r.slug,"/performance/"),query:Me({},o.query)}),null;var l=this.getPercentilesEventView(s),c=1===s.project.length,u=c?n.find((function(e){return parseInt(e.id,10)===s.project[0]})):void 0,d=s.project.map((function(e){return n.find((function(t){return parseInt(t.id,10)===e}))})).filter((function(e){return void 0!==e})).map((function(e){return e.slug}));return(0,ce.tZ)(y.Z,{title:this.getDocumentTitle(),orgSlug:r.slug,projectSlug:null==u?void 0:u.slug,children:(0,ce.tZ)(m.Z,{features:["performance-events-page"],organization:r,renderDisabled:this.renderNoAccess,children:(0,ce.tZ)(h.Z,{lockedMessageSubject:(0,b.t)("transaction"),shouldForceProject:c,forceProject:u,specificProjectSlugs:d,disableMultipleProjectSelection:!0,showProjectSettingsLink:!0,children:(0,ce.tZ)(v.Z,{organization:r,children:(0,ce.tZ)(g.Z,{eventView:l,orgSlug:r.slug,location:o,referrer:"api.performance.transaction-events",children:function(t){var s,l=t.isLoading,c=t.tableData,u=null==c||null===(s=c.data)||void 0===s?void 0:s[0];return(0,ce.tZ)(Ie,{location:o,eventView:e.getFilteredEventView(u),transactionName:i,organization:r,projects:n,spanOperationBreakdownFilter:e.state.spanOperationBreakdownFilter,onChangeSpanOperationBreakdownFilter:e.onChangeSpanOperationBreakdownFilter,eventsDisplayFilterName:e.state.eventsDisplayFilterName,onChangeEventsDisplayFilter:e.onChangeEventsDisplayFilter,percentileValues:u,isLoading:l,webVital:a})}})})})})})}}],[{key:"getDerivedStateFromProps",value:function(e,t){return Me(Me({},t),{},{spanOperationBreakdownFilter:(0,D.q0)(e.location),eventsDisplayFilterName:(0,Pe.tb)(e.location),eventView:Xe(e.location,(0,C.JY)(e.location))})}}]),d}(d.Component);function We(e){var t=(0,x.ro)(e.query.webVital,"");if(Object.values(w.Zl).includes(t))return t}function Xe(e,t){if(void 0!==t){var r=(0,x.ro)(e.query.query,""),o=(0,k.aI)(r);o.setTagValues("event.type",["transaction"]).setTagValues("transaction",[t]),Object.keys(o.tagValues).forEach((function(e){(0,w.h1)(e)&&o.removeTag(e)}));var s=["id","user.display",w.zD,"transaction.duration","trace","timestamp"],i=(0,D.q0)(e);i!==D.f1.None?s.splice(2,1,"spans.".concat(i)):s.push.apply(s,(0,n.Z)(w.$4).concat(["spans.total.time"]));var a=We(e);return a&&s.splice(3,0,a),Z.ZP.fromNewQueryWithLocation({id:void 0,version:2,name:t,fields:s,query:o.formatString(),projects:[],orderby:(0,x.ro)(e.query.sort,"-timestamp")},e)}}He.displayName="TransactionEvents";const Ke=(0,_.Z)((0,P.Z)((0,S.Z)(He)))},"./app/views/performance/transactionSummary/transactionEvents/utils.tsx":(e,t,r)=>{"use strict";r.d(t,{q3:()=>n,_S:()=>c,xr:()=>u,tb:()=>d,qg:()=>p,Zq:()=>m});var n,o=r("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),s=(r("../node_modules/core-js/modules/es.number.to-fixed.js"),r("../node_modules/core-js/modules/es.array.includes.js"),r("../node_modules/core-js/modules/es.string.includes.js"),r("../node_modules/core-js/modules/es.object.values.js"),r("../node_modules/core-js/modules/es.array.sort.js"),r("../node_modules/core-js/modules/es.array.concat.js"),r("./app/locale.tsx")),i=r("./app/utils/queryString.tsx"),a=r("./app/views/performance/transactionSummary/filter.tsx"),l=r("./app/views/performance/transactionSummary/utils.tsx");function c(e,t){var r,i=t||{p99:0,p95:0,p75:0,p50:0},l=i.p99,c=i.p95,u=i.p75,d=i.p50;return r={},(0,o.Z)(r,n.p50,{name:n.p50,query:d?[["transaction.duration","<=".concat(d.toFixed(0))]]:void 0,sort:{kind:"desc",field:(0,a.T$)(e)||"transaction.duration"},label:(0,s.t)("p50")}),(0,o.Z)(r,n.p75,{name:n.p75,query:u?[["transaction.duration","<=".concat(u.toFixed(0))]]:void 0,sort:{kind:"desc",field:(0,a.T$)(e)||"transaction.duration"},label:(0,s.t)("p75")}),(0,o.Z)(r,n.p95,{name:n.p95,query:c?[["transaction.duration","<=".concat(c.toFixed(0))]]:void 0,sort:{kind:"desc",field:(0,a.T$)(e)||"transaction.duration"},label:(0,s.t)("p95")}),(0,o.Z)(r,n.p99,{name:n.p99,query:l?[["transaction.duration","<=".concat(l.toFixed(0))]]:void 0,sort:{kind:"desc",field:(0,a.T$)(e)||"transaction.duration"},label:(0,s.t)("p99")}),(0,o.Z)(r,n.p100,{name:n.p100,label:(0,s.t)("p100")}),r}function u(e){var t=e.orgSlug,r=e.transaction,n=e.projectID,o=e.query;return{pathname:"/organizations/".concat(t,"/performance/summary/events/"),query:{transaction:r,project:n,environment:o.environment,statsPeriod:o.statsPeriod,start:o.start,end:o.end,query:o.query}}}function d(e){return t=(0,i.ro)(e.query.showTransactions,n.p100),Object.values(n).includes(t)?t:n.p100;var t}function p(e,t){var r,n,o=c(t),s=null===(r=o[e].sort)||void 0===r?void 0:r.kind,i=null===(n=o[e].sort)||void 0===n?void 0:n.field,a={showTransactions:e};return s&&i&&(a.sort="".concat("desc"===s?"-":"").concat(i)),a}function m(e){switch(e){case l.K0.OUTLIER:return n.p100;case l.K0.SLOW:return n.p95;default:return}}!function(e){e.p50="p50",e.p75="p75",e.p95="p95",e.p99="p99",e.p100="p100"}(n||(n={}))}}]);
//# sourceMappingURL=../sourcemaps/app_views_performance_transactionSummary_transactionEvents_index_tsx.f80b636cb76fb94a28fb615ee324fb2f.js.map